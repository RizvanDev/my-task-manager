{"ast":null,"code":"import _toConsumableArray from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef}from'react';import cl from'./addItem.module.scss';import InputContainer from'./InputContainer';import useValue from'../../../../hooks/useValue';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddItem=function AddItem(_ref){var tabItems=_ref.tabItems,setTabItem=_ref.setTabItem,setTab=_ref.setTab,setCategory=_ref.setCategory;var _useValue=useValue({invisible:false,visible:false}),_useValue2=_slicedToArray(_useValue,2),state=_useValue2[0],setState=_useValue2[1];var _useValue3=useValue(''),_useValue4=_slicedToArray(_useValue3,3),inputValue=_useValue4[0],setInputValue=_useValue4[1],onChange=_useValue4[2];var inputRef=useRef(null);var classes={addBtn:[cl.addItem__btn],inputContainer:[cl.addItem__input]};if(state.invisible||state.visible){classes.addBtn.push(cl.invisible);classes.inputContainer.push(cl.visible);}var showInputContainer=function showInputContainer(invisible,visible){if(inputValue)setInputValue('');setTimeout(function(){return inputRef.current.focus();},500);return setState({invisible:invisible,visible:visible});};var desiredElement=tabItems.find(function(tab){return tab.title===inputValue;});var addNewCategory=function addNewCategory(){if(inputValue&&!desiredElement){setInputValue('');setTabItem([{title:inputValue,data:[]}].concat(_toConsumableArray(tabItems)));setState({invisible:false,visible:false});setCategory(inputValue);setTab(inputValue);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(InputContainer,{addNewCategory:addNewCategory,showInputContainer:showInputContainer,inputValue:inputValue,setInputValue:onChange,inputContainer:classes.inputContainer,ref:inputRef}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:classes.addBtn.join(' '),onClick:function onClick(){return showInputContainer(true,true);},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",fill:\"none\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M14.25 2.25H3.75C2.92157 2.25 2.25 2.92157 2.25 3.75V14.25C2.25 15.0784 2.92157 15.75 3.75 15.75H14.25C15.0784 15.75 15.75 15.0784 15.75 14.25V3.75C15.75 2.92157 15.0784 2.25 14.25 2.25Z\",stroke:\"#29A19C\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9 6V12\",stroke:\"#29A19C\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M6 9H12\",stroke:\"#29A19C\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"new category\"})]})]});};export default AddItem;","map":{"version":3,"names":["React","useRef","cl","InputContainer","useValue","AddItem","tabItems","setTabItem","setTab","setCategory","invisible","visible","state","setState","inputValue","setInputValue","onChange","inputRef","classes","addBtn","addItem__btn","inputContainer","addItem__input","push","showInputContainer","setTimeout","current","focus","desiredElement","find","tab","title","addNewCategory","data","join"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/Components/AsideBar/CategoryList/AddItem/AddItem.jsx"],"sourcesContent":["import React, { useRef } from 'react'\r\nimport cl from './addItem.module.scss'\r\nimport InputContainer from './InputContainer'\r\nimport useValue from '../../../../hooks/useValue'\r\n\r\nconst AddItem = ({ tabItems, setTabItem, setTab, setCategory }) => {\r\n  const [state, setState] = useValue({ invisible: false, visible: false })\r\n  const [inputValue, setInputValue, onChange] = useValue('')\r\n  const inputRef = useRef(null)\r\n\r\n  const classes = {\r\n    addBtn: [cl.addItem__btn],\r\n    inputContainer: [cl.addItem__input],\r\n  }\r\n\r\n  if (state.invisible || state.visible) {\r\n    classes.addBtn.push(cl.invisible)\r\n    classes.inputContainer.push(cl.visible)\r\n  }\r\n\r\n  const showInputContainer = (invisible, visible) => {\r\n    if (inputValue) setInputValue('')\r\n    setTimeout(() => inputRef.current.focus(), 500)\r\n    return setState({ invisible, visible })\r\n  }\r\n\r\n  const desiredElement = tabItems.find(tab => tab.title === inputValue)\r\n\r\n  const addNewCategory = () => {\r\n    if (inputValue && !desiredElement) {\r\n      setInputValue('')\r\n      setTabItem([{ title: inputValue, data: [] }, ...tabItems])\r\n      setState({ invisible: false, visible: false })\r\n      setCategory(inputValue)\r\n      setTab(inputValue)\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <InputContainer\r\n        addNewCategory={addNewCategory}\r\n        showInputContainer={showInputContainer}\r\n        inputValue={inputValue}\r\n        setInputValue={onChange}\r\n        inputContainer={classes.inputContainer}\r\n        ref={inputRef}\r\n      />\r\n      <button\r\n        type='button'\r\n        className={classes.addBtn.join(' ')}\r\n        onClick={() => showInputContainer(true, true)}>\r\n        <svg width='18' height='18' fill='none'>\r\n          <path\r\n            d='M14.25 2.25H3.75C2.92157 2.25 2.25 2.92157 2.25 3.75V14.25C2.25 15.0784 2.92157 15.75 3.75 15.75H14.25C15.0784 15.75 15.75 15.0784 15.75 14.25V3.75C15.75 2.92157 15.0784 2.25 14.25 2.25Z'\r\n            stroke='#29A19C'\r\n            strokeWidth='1.5'\r\n            strokeLinecap='round'\r\n            strokeLinejoin='round'\r\n          />\r\n          <path\r\n            d='M9 6V12'\r\n            stroke='#29A19C'\r\n            strokeWidth='1.5'\r\n            strokeLinecap='round'\r\n            strokeLinejoin='round'\r\n          />\r\n          <path\r\n            d='M6 9H12'\r\n            stroke='#29A19C'\r\n            strokeWidth='1.5'\r\n            strokeLinecap='round'\r\n            strokeLinejoin='round'\r\n          />\r\n        </svg>\r\n        <span>new category</span>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddItem\r\n"],"mappings":"wRAAA,MAAOA,MAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,MAAOC,GAAP,KAAe,uBAAf,CACA,MAAOC,eAAP,KAA2B,kBAA3B,CACA,MAAOC,SAAP,KAAqB,4BAArB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,MAAmD,IAAhDC,SAAgD,MAAhDA,QAAgD,CAAtCC,UAAsC,MAAtCA,UAAsC,CAA1BC,MAA0B,MAA1BA,MAA0B,CAAlBC,WAAkB,MAAlBA,WAAkB,CACjE,cAA0BL,QAAQ,CAAC,CAAEM,SAAS,CAAE,KAAb,CAAoBC,OAAO,CAAE,KAA7B,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eACA,eAA8CT,QAAQ,CAAC,EAAD,CAAtD,yCAAOU,UAAP,eAAmBC,aAAnB,eAAkCC,QAAlC,eACA,GAAMC,SAAQ,CAAGhB,MAAM,CAAC,IAAD,CAAvB,CAEA,GAAMiB,QAAO,CAAG,CACdC,MAAM,CAAE,CAACjB,EAAE,CAACkB,YAAJ,CADM,CAEdC,cAAc,CAAE,CAACnB,EAAE,CAACoB,cAAJ,CAFF,CAAhB,CAKA,GAAIV,KAAK,CAACF,SAAN,EAAmBE,KAAK,CAACD,OAA7B,CAAsC,CACpCO,OAAO,CAACC,MAAR,CAAeI,IAAf,CAAoBrB,EAAE,CAACQ,SAAvB,EACAQ,OAAO,CAACG,cAAR,CAAuBE,IAAvB,CAA4BrB,EAAE,CAACS,OAA/B,EACD,CAED,GAAMa,mBAAkB,CAAG,QAArBA,mBAAqB,CAACd,SAAD,CAAYC,OAAZ,CAAwB,CACjD,GAAIG,UAAJ,CAAgBC,aAAa,CAAC,EAAD,CAAb,CAChBU,UAAU,CAAC,iBAAMR,SAAQ,CAACS,OAAT,CAAiBC,KAAjB,EAAN,EAAD,CAAiC,GAAjC,CAAV,CACA,MAAOd,SAAQ,CAAC,CAAEH,SAAS,CAATA,SAAF,CAAaC,OAAO,CAAPA,OAAb,CAAD,CAAf,CACD,CAJD,CAMA,GAAMiB,eAAc,CAAGtB,QAAQ,CAACuB,IAAT,CAAc,SAAAC,GAAG,QAAIA,IAAG,CAACC,KAAJ,GAAcjB,UAAlB,EAAjB,CAAvB,CAEA,GAAMkB,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3B,GAAIlB,UAAU,EAAI,CAACc,cAAnB,CAAmC,CACjCb,aAAa,CAAC,EAAD,CAAb,CACAR,UAAU,EAAE,CAAEwB,KAAK,CAAEjB,UAAT,CAAqBmB,IAAI,CAAE,EAA3B,CAAF,4BAAsC3B,QAAtC,GAAV,CACAO,QAAQ,CAAC,CAAEH,SAAS,CAAE,KAAb,CAAoBC,OAAO,CAAE,KAA7B,CAAD,CAAR,CACAF,WAAW,CAACK,UAAD,CAAX,CACAN,MAAM,CAACM,UAAD,CAAN,CACD,CACF,CARD,CASA,mBACE,oCACE,KAAC,cAAD,EACE,cAAc,CAAEkB,cADlB,CAEE,kBAAkB,CAAER,kBAFtB,CAGE,UAAU,CAAEV,UAHd,CAIE,aAAa,CAAEE,QAJjB,CAKE,cAAc,CAAEE,OAAO,CAACG,cAL1B,CAME,GAAG,CAAEJ,QANP,EADF,cASE,gBACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAEC,OAAO,CAACC,MAAR,CAAee,IAAf,CAAoB,GAApB,CAFb,CAGE,OAAO,CAAE,yBAAMV,mBAAkB,CAAC,IAAD,CAAO,IAAP,CAAxB,EAHX,wBAIE,aAAK,KAAK,CAAC,IAAX,CAAgB,MAAM,CAAC,IAAvB,CAA4B,IAAI,CAAC,MAAjC,wBACE,aACE,CAAC,CAAC,4LADJ,CAEE,MAAM,CAAC,SAFT,CAGE,WAAW,CAAC,KAHd,CAIE,aAAa,CAAC,OAJhB,CAKE,cAAc,CAAC,OALjB,EADF,cAQE,aACE,CAAC,CAAC,SADJ,CAEE,MAAM,CAAC,SAFT,CAGE,WAAW,CAAC,KAHd,CAIE,aAAa,CAAC,OAJhB,CAKE,cAAc,CAAC,OALjB,EARF,cAeE,aACE,CAAC,CAAC,SADJ,CAEE,MAAM,CAAC,SAFT,CAGE,WAAW,CAAC,KAHd,CAIE,aAAa,CAAC,OAJhB,CAKE,cAAc,CAAC,OALjB,EAfF,GAJF,cA2BE,sCA3BF,GATF,GADF,CAyCD,CAzED,CA2EA,cAAenB,QAAf"},"metadata":{},"sourceType":"module"}