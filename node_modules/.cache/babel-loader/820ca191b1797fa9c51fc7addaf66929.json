{"ast":null,"code":"import { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, set, get } from 'firebase/database';\nimport { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut } from 'firebase/auth';\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL\n};\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\nconst db = getDatabase(app);\n\nconst addEmptyArrays = data => {\n  return Array.isArray(data) && data.map(obj => obj.hasOwnProperty('data') ? obj : { ...obj,\n    data: []\n  });\n}; // Helper function for writing data in the database\n\n\nconst writeToDataBase = (path, data) => set(ref(db, path), data); // Helper function for reading data from the database\n\n\nconst readFromDatabase = path => get(ref(db, path)); // database\n\n\nconst database = {\n  // send user information (email,avatar,nickname,id)\n  writeUserInfoData: async userInfo => {\n    const path = `users/${userInfo.uid}/user_info`;\n    const data = {\n      uid: userInfo.uid,\n      username: userInfo.nick,\n      email: userInfo.email,\n      avatar: userInfo.photo\n    };\n    return userInfo.uid && (await writeToDataBase(path, data));\n  },\n  // send user tasks Data\n  writeUserTasksData: async (userId, date, tabItems) => {\n    const path = `users/${userId}/user_tasks/${date}`;\n    return userId && (await writeToDataBase(path, { ...tabItems.tasks\n    }));\n  },\n  // create/read new day\n  writeNewDayData: async (userId, date, setTabItems, setCategory, setTab) => {\n    const path = `users/${userId}/user_tasks/${date}`;\n    const snapshot = await readFromDatabase(path);\n    const dataTabItems = {\n      date: new Date().toLocaleDateString().split('.').reverse().join(''),\n      tasks: []\n    };\n\n    if (snapshot.exists()) {\n      const tasks = snapshot.val();\n      setCategory(tasks[0].title);\n      setTab(tasks[0].title);\n      dataTabItems.tasks = addEmptyArrays(tasks);\n    }\n\n    return setTabItems(dataTabItems);\n  },\n  // create Data for new user\n  createUserData: async (userId, userInfo, tabItems) => {\n    const day = new Date().toLocaleDateString().replaceAll('.', '');\n    const path = `users/${userId}`;\n    const data = {\n      user_info: {\n        uid: userInfo.uid,\n        username: userInfo.nick,\n        email: userInfo.email,\n        avatar: userInfo.photo\n      },\n      user_tasks: {\n        [day]: tabItems.tasks\n      }\n    };\n    return userId && (await writeToDataBase(path, data));\n  },\n  // reade user Data\n  readUserData: async (userId, setUserInfo, tabItems, setTabItems, setTab, setCategory) => {\n    const date = new Date().toLocaleDateString().replaceAll('.', '');\n    const path = `users/${userId}/`;\n    const snapshot = await readFromDatabase(path);\n\n    if (snapshot.exists()) {\n      const data = snapshot.val();\n      const condition = data.user_tasks && data.user_tasks[date];\n      const userData = {\n        info: {\n          photo: data.user_info.avatar,\n          nick: data.user_info.username,\n          email: data.user_info.email,\n          uid: data.user_info.uid\n        },\n        tasks: { ...tabItems,\n          tasks: addEmptyArrays(condition ? data.user_tasks[date] : [])\n        }\n      };\n      setUserInfo(userData.info);\n      setTabItems(userData.tasks);\n      setCategory(condition ? data.user_tasks[date][0].title : '');\n      setTab(condition ? data.user_tasks[date][0].title : '');\n    }\n  },\n  // reading the data of the selected day\n  readPastData: async _ref => {\n    let { ...params\n    } = _ref;\n    const date = params.date.toLocaleDateString().replaceAll('.', '');\n    const path = `users/${params.userInfo.uid}/user_tasks/${date}`;\n    const snapshot = await readFromDatabase(path);\n\n    if (snapshot.exists()) {\n      const tasks = snapshot.val();\n      params.setCalendarDate(params.date);\n      params.setCategory(tasks[0].title);\n      params.setTab(tasks[0].title);\n      params.setTabItems({ ...params.tabItems,\n        tasks: addEmptyArrays(tasks)\n      });\n      params.openModals({ ...params.modals,\n        calendarModal: false\n      });\n    } else {\n      params.createAuthInfoModal({\n        show: true,\n        type: 'Error',\n        text: `You don't have any tasks for this day`\n      });\n    }\n  },\n  // Statistics\n\n  /* createStatistics: async (userId, period, setStatistics) => {\r\n    const date = new Date().toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userId}/user_tasks/${period === 'Day' ? date : ''}`\r\n    const snapshot = await readFromDatabase(path)\r\n      if (snapshot.exists()) {\r\n      const data = snapshot.val()\r\n        const statistics = {\r\n        Categories: 0,\r\n        Created: 0,\r\n        Completed: 0,\r\n      }\r\n        const updateStatistics = data => {\r\n        data.forEach(category => {\r\n          if (category.hasOwnProperty('data')) {\r\n            statistics.Created += category.data.length\r\n            statistics.Completed += category.data.filter(task => task.completed).length\r\n          }\r\n        })\r\n      }\r\n        const periods = {\r\n        Day: () => {\r\n          statistics.Categories += data.length\r\n          updateStatistics(data)\r\n        },\r\n        Month: () => {\r\n          const currentMonth = date.substring(2, 4)\r\n            for (const day in data) {\r\n            if (day.substring(2, 4) === currentMonth) {\r\n              statistics.Categories += data[day].length\r\n              updateStatistics(data[day])\r\n            }\r\n          }\r\n        },\r\n        Year: () => {\r\n          const currentYear = date.substring(4)\r\n            for (const day in data) {\r\n            if (day.substring(4) === currentYear) {\r\n              statistics.Categories += data[day].length\r\n              updateStatistics(data[day])\r\n            }\r\n          }\r\n        },\r\n      }\r\n        periods[period]()\r\n      return setStatistics(statistics)\r\n    }\r\n  },*/\n  createStatistics: async (userId, period, setStatistics) => {\n    // Get the current date\n    const currentDate = new Date(); // Get the start and end dates of the requested period\n\n    let startDate, endDate;\n\n    switch (period) {\n      case 'Day':\n        startDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());\n        endDate = new Date(startDate);\n        endDate.setDate(endDate.getDate() + 1);\n        break;\n\n      case 'Month':\n        startDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n        endDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1);\n        break;\n\n      case 'Year':\n        startDate = new Date(currentDate.getFullYear(), 0, 1);\n        endDate = new Date(currentDate.getFullYear() + 1, 0, 1);\n        break;\n\n      default:\n        throw new Error('Invalid period');\n    } // Get the data from the database for the requested period\n\n\n    const path = `users/${userId}/user_tasks`;\n    const snapshot = await readFromDatabase(path);\n    const data = snapshot.val(); // Filter the data by the requested period\n\n    const filteredData = Object.keys(data).reduce((acc, dateStr) => {\n      const date = new Date(dateStr);\n\n      if (date >= startDate && date < endDate) {\n        acc.push(...data[dateStr]);\n      }\n\n      return acc;\n    }, []); // Calculate the statistics\n\n    const statistics = {\n      Categories: filteredData.length,\n      Created: filteredData.reduce((acc, category) => {\n        if (category.data) {\n          acc += category.data.length;\n        }\n\n        return acc;\n      }, 0),\n      Completed: filteredData.reduce((acc, category) => {\n        if (category.data) {\n          acc += category.data.filter(task => task.completed).length;\n        }\n\n        return acc;\n      }, 0)\n    }; // Call the external function with the statistics\n\n    setStatistics(statistics);\n  }\n}; // Authentication methods\n\nconst authentication = {\n  // Login\n  loginEmailPassword: async _ref2 => {\n    let { ...params\n    } = _ref2;\n\n    if (params.login.Password) {\n      try {\n        const userCredential = await signInWithEmailAndPassword(auth, params.login.Email, params.login.Password);\n\n        if (userCredential) {\n          params.setLogin({\n            Email: '',\n            Password: ''\n          });\n          params.createAuthInfoModal({\n            show: true,\n            type: 'Success',\n            text: 'Authorization successfully'\n          });\n          params.setUserInfo({ ...params.userInfo,\n            uid: userCredential.user.uid\n          });\n          database.readUserData(userCredential.user.uid, params.setUserInfo, params.tabItems, params.setTabItems, params.setTab, params.setCategory);\n          setTimeout(() => {\n            params.openModals({ ...params.modals,\n              authModal: false\n            });\n          }, 1500);\n        }\n      } catch (Error) {\n        params.createAuthInfoModal({\n          show: true,\n          type: 'Error',\n          text: Error.code\n        });\n      }\n    }\n  },\n  // Registration\n  registrationEmailPassword: async _ref3 => {\n    let { ...params\n    } = _ref3;\n\n    if (params.registration.Password) {\n      try {\n        const userCredential = await createUserWithEmailAndPassword(auth, params.registration.Email, params.registration.Password);\n\n        if (userCredential) {\n          params.setRegistration({\n            Email: '',\n            Password: ''\n          });\n          params.createAuthInfoModal({\n            show: true,\n            type: 'Success',\n            text: 'Registration successfully'\n          });\n          params.setUserInfo({ ...params.userInfo,\n            email: userCredential.user.email,\n            uid: userCredential.user.uid\n          });\n          database.createUserData(userCredential.user.uid, params.userInfo, params.tabItems);\n          setTimeout(() => {\n            params.openModals({ ...params.modals,\n              authModal: false\n            });\n            params.navigate('Profile.jsx');\n          }, 1000);\n        }\n      } catch (Error) {\n        params.createAuthInfoModal({\n          show: true,\n          type: 'Error',\n          text: Error.code\n        });\n      }\n    }\n  },\n  // Logout\n  logOut: async _ref4 => {\n    let { ...params\n    } = _ref4;\n    const userData = {\n      info: {\n        photo: params.defaultPhoto,\n        nick: 'username',\n        email: '',\n        uid: ''\n      },\n      tasks: { ...params.tabItems,\n        tasks: []\n      }\n    };\n    params.setCalendarDate(new Date());\n    params.setTimeLine({\n      past: false,\n      future: false\n    });\n    params.setUserInfo(userData.info);\n    params.setTabItems(userData.tasks);\n    return await signOut(auth);\n  }\n};\nexport { authentication, database };","map":{"version":3,"names":["initializeApp","getDatabase","ref","set","get","getAuth","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","databaseURL","REACT_APP_FIREBASE_DATABASE_URL","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","auth","db","addEmptyArrays","data","Array","isArray","map","obj","hasOwnProperty","writeToDataBase","path","readFromDatabase","database","writeUserInfoData","userInfo","uid","username","nick","email","avatar","photo","writeUserTasksData","userId","date","tabItems","tasks","writeNewDayData","setTabItems","setCategory","setTab","snapshot","dataTabItems","Date","toLocaleDateString","split","reverse","join","exists","val","title","createUserData","day","replaceAll","user_info","user_tasks","readUserData","setUserInfo","condition","userData","info","readPastData","params","setCalendarDate","openModals","modals","calendarModal","createAuthInfoModal","show","type","text","createStatistics","period","setStatistics","currentDate","startDate","endDate","getFullYear","getMonth","getDate","setDate","Error","filteredData","Object","keys","reduce","acc","dateStr","push","statistics","Categories","length","Created","category","Completed","filter","task","completed","authentication","loginEmailPassword","login","Password","userCredential","Email","setLogin","user","setTimeout","authModal","code","registrationEmailPassword","registration","setRegistration","navigate","logOut","defaultPhoto","setTimeLine","past","future"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/firebase/firebaseConfig.js"],"sourcesContent":["import { initializeApp } from 'firebase/app'\r\nimport { getDatabase, ref, set, get } from 'firebase/database'\r\nimport {\r\n  getAuth,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  signOut,\r\n} from 'firebase/auth'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n}\r\n\r\nconst app = initializeApp(firebaseConfig)\r\nconst auth = getAuth(app)\r\nconst db = getDatabase(app)\r\n\r\nconst addEmptyArrays = data => {\r\n  return (\r\n    Array.isArray(data) &&\r\n    data.map(obj => (obj.hasOwnProperty('data') ? obj : { ...obj, data: [] }))\r\n  )\r\n}\r\n\r\n// Helper function for writing data in the database\r\nconst writeToDataBase = (path, data) => set(ref(db, path), data)\r\n// Helper function for reading data from the database\r\nconst readFromDatabase = path => get(ref(db, path))\r\n\r\n// database\r\nconst database = {\r\n  // send user information (email,avatar,nickname,id)\r\n  writeUserInfoData: async userInfo => {\r\n    const path = `users/${userInfo.uid}/user_info`\r\n\r\n    const data = {\r\n      uid: userInfo.uid,\r\n      username: userInfo.nick,\r\n      email: userInfo.email,\r\n      avatar: userInfo.photo,\r\n    }\r\n\r\n    return userInfo.uid && (await writeToDataBase(path, data))\r\n  },\r\n  // send user tasks Data\r\n  writeUserTasksData: async (userId, date, tabItems) => {\r\n    const path = `users/${userId}/user_tasks/${date}`\r\n    return userId && (await writeToDataBase(path, { ...tabItems.tasks }))\r\n  },\r\n  // create/read new day\r\n  writeNewDayData: async (userId, date, setTabItems, setCategory, setTab) => {\r\n    const path = `users/${userId}/user_tasks/${date}`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    const dataTabItems = {\r\n      date: new Date().toLocaleDateString().split('.').reverse().join(''),\r\n      tasks: [],\r\n    }\r\n\r\n    if (snapshot.exists()) {\r\n      const tasks = snapshot.val()\r\n\r\n      setCategory(tasks[0].title)\r\n      setTab(tasks[0].title)\r\n      dataTabItems.tasks = addEmptyArrays(tasks)\r\n    }\r\n\r\n    return setTabItems(dataTabItems)\r\n  },\r\n  // create Data for new user\r\n  createUserData: async (userId, userInfo, tabItems) => {\r\n    const day = new Date().toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userId}`\r\n\r\n    const data = {\r\n      user_info: {\r\n        uid: userInfo.uid,\r\n        username: userInfo.nick,\r\n        email: userInfo.email,\r\n        avatar: userInfo.photo,\r\n      },\r\n      user_tasks: { [day]: tabItems.tasks },\r\n    }\r\n\r\n    return userId && (await writeToDataBase(path, data))\r\n  },\r\n  // reade user Data\r\n  readUserData: async (userId, setUserInfo, tabItems, setTabItems, setTab, setCategory) => {\r\n    const date = new Date().toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userId}/`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.val()\r\n\r\n      const condition = data.user_tasks && data.user_tasks[date]\r\n\r\n      const userData = {\r\n        info: {\r\n          photo: data.user_info.avatar,\r\n          nick: data.user_info.username,\r\n          email: data.user_info.email,\r\n          uid: data.user_info.uid,\r\n        },\r\n        tasks: {\r\n          ...tabItems,\r\n          tasks: addEmptyArrays(condition ? data.user_tasks[date] : []),\r\n        },\r\n      }\r\n\r\n      setUserInfo(userData.info)\r\n      setTabItems(userData.tasks)\r\n      setCategory(condition ? data.user_tasks[date][0].title : '')\r\n      setTab(condition ? data.user_tasks[date][0].title : '')\r\n    }\r\n  },\r\n  // reading the data of the selected day\r\n  readPastData: async ({ ...params }) => {\r\n    const date = params.date.toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${params.userInfo.uid}/user_tasks/${date}`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    if (snapshot.exists()) {\r\n      const tasks = snapshot.val()\r\n\r\n      params.setCalendarDate(params.date)\r\n      params.setCategory(tasks[0].title)\r\n      params.setTab(tasks[0].title)\r\n      params.setTabItems({ ...params.tabItems, tasks: addEmptyArrays(tasks) })\r\n      params.openModals({ ...params.modals, calendarModal: false })\r\n    } else {\r\n      params.createAuthInfoModal({\r\n        show: true,\r\n        type: 'Error',\r\n        text: `You don't have any tasks for this day`,\r\n      })\r\n    }\r\n  },\r\n  // Statistics\r\n  /* createStatistics: async (userId, period, setStatistics) => {\r\n    const date = new Date().toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userId}/user_tasks/${period === 'Day' ? date : ''}`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.val()\r\n\r\n      const statistics = {\r\n        Categories: 0,\r\n        Created: 0,\r\n        Completed: 0,\r\n      }\r\n\r\n      const updateStatistics = data => {\r\n        data.forEach(category => {\r\n          if (category.hasOwnProperty('data')) {\r\n            statistics.Created += category.data.length\r\n            statistics.Completed += category.data.filter(task => task.completed).length\r\n          }\r\n        })\r\n      }\r\n\r\n      const periods = {\r\n        Day: () => {\r\n          statistics.Categories += data.length\r\n          updateStatistics(data)\r\n        },\r\n        Month: () => {\r\n          const currentMonth = date.substring(2, 4)\r\n\r\n          for (const day in data) {\r\n            if (day.substring(2, 4) === currentMonth) {\r\n              statistics.Categories += data[day].length\r\n              updateStatistics(data[day])\r\n            }\r\n          }\r\n        },\r\n        Year: () => {\r\n          const currentYear = date.substring(4)\r\n\r\n          for (const day in data) {\r\n            if (day.substring(4) === currentYear) {\r\n              statistics.Categories += data[day].length\r\n              updateStatistics(data[day])\r\n            }\r\n          }\r\n        },\r\n      }\r\n\r\n      periods[period]()\r\n      return setStatistics(statistics)\r\n    }\r\n  },*/\r\n  createStatistics: async (userId, period, setStatistics) => {\r\n    // Get the current date\r\n    const currentDate = new Date()\r\n\r\n    // Get the start and end dates of the requested period\r\n    let startDate, endDate\r\n    switch (period) {\r\n      case 'Day':\r\n        startDate = new Date(\r\n          currentDate.getFullYear(),\r\n          currentDate.getMonth(),\r\n          currentDate.getDate(),\r\n        )\r\n        endDate = new Date(startDate)\r\n        endDate.setDate(endDate.getDate() + 1)\r\n        break\r\n      case 'Month':\r\n        startDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1)\r\n        endDate = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1)\r\n        break\r\n      case 'Year':\r\n        startDate = new Date(currentDate.getFullYear(), 0, 1)\r\n        endDate = new Date(currentDate.getFullYear() + 1, 0, 1)\r\n        break\r\n      default:\r\n        throw new Error('Invalid period')\r\n    }\r\n\r\n    // Get the data from the database for the requested period\r\n    const path = `users/${userId}/user_tasks`\r\n    const snapshot = await readFromDatabase(path)\r\n    const data = snapshot.val()\r\n\r\n    // Filter the data by the requested period\r\n    const filteredData = Object.keys(data).reduce((acc, dateStr) => {\r\n      const date = new Date(dateStr)\r\n      if (date >= startDate && date < endDate) {\r\n        acc.push(...data[dateStr])\r\n      }\r\n      return acc\r\n    }, [])\r\n\r\n    // Calculate the statistics\r\n    const statistics = {\r\n      Categories: filteredData.length,\r\n      Created: filteredData.reduce((acc, category) => {\r\n        if (category.data) {\r\n          acc += category.data.length\r\n        }\r\n        return acc\r\n      }, 0),\r\n      Completed: filteredData.reduce((acc, category) => {\r\n        if (category.data) {\r\n          acc += category.data.filter(task => task.completed).length\r\n        }\r\n        return acc\r\n      }, 0),\r\n    }\r\n\r\n    // Call the external function with the statistics\r\n    setStatistics(statistics)\r\n  },\r\n}\r\n\r\n// Authentication methods\r\nconst authentication = {\r\n  // Login\r\n  loginEmailPassword: async ({ ...params }) => {\r\n    if (params.login.Password) {\r\n      try {\r\n        const userCredential = await signInWithEmailAndPassword(\r\n          auth,\r\n          params.login.Email,\r\n          params.login.Password,\r\n        )\r\n\r\n        if (userCredential) {\r\n          params.setLogin({ Email: '', Password: '' })\r\n          params.createAuthInfoModal({\r\n            show: true,\r\n            type: 'Success',\r\n            text: 'Authorization successfully',\r\n          })\r\n\r\n          params.setUserInfo({\r\n            ...params.userInfo,\r\n            uid: userCredential.user.uid,\r\n          })\r\n\r\n          database.readUserData(\r\n            userCredential.user.uid,\r\n            params.setUserInfo,\r\n            params.tabItems,\r\n            params.setTabItems,\r\n            params.setTab,\r\n            params.setCategory,\r\n          )\r\n\r\n          setTimeout(() => {\r\n            params.openModals({ ...params.modals, authModal: false })\r\n          }, 1500)\r\n        }\r\n      } catch (Error) {\r\n        params.createAuthInfoModal({ show: true, type: 'Error', text: Error.code })\r\n      }\r\n    }\r\n  },\r\n  // Registration\r\n  registrationEmailPassword: async ({ ...params }) => {\r\n    if (params.registration.Password) {\r\n      try {\r\n        const userCredential = await createUserWithEmailAndPassword(\r\n          auth,\r\n          params.registration.Email,\r\n          params.registration.Password,\r\n        )\r\n\r\n        if (userCredential) {\r\n          params.setRegistration({ Email: '', Password: '' })\r\n          params.createAuthInfoModal({\r\n            show: true,\r\n            type: 'Success',\r\n            text: 'Registration successfully',\r\n          })\r\n\r\n          params.setUserInfo({\r\n            ...params.userInfo,\r\n            email: userCredential.user.email,\r\n            uid: userCredential.user.uid,\r\n          })\r\n\r\n          database.createUserData(userCredential.user.uid, params.userInfo, params.tabItems)\r\n\r\n          setTimeout(() => {\r\n            params.openModals({ ...params.modals, authModal: false })\r\n            params.navigate('Profile.jsx')\r\n          }, 1000)\r\n        }\r\n      } catch (Error) {\r\n        params.createAuthInfoModal({ show: true, type: 'Error', text: Error.code })\r\n      }\r\n    }\r\n  },\r\n  // Logout\r\n  logOut: async ({ ...params }) => {\r\n    const userData = {\r\n      info: {\r\n        photo: params.defaultPhoto,\r\n        nick: 'username',\r\n        email: '',\r\n        uid: '',\r\n      },\r\n      tasks: { ...params.tabItems, tasks: [] },\r\n    }\r\n\r\n    params.setCalendarDate(new Date())\r\n    params.setTimeLine({ past: false, future: false })\r\n    params.setUserInfo(userData.info)\r\n    params.setTabItems(userData.tasks)\r\n\r\n    return await signOut(auth)\r\n  },\r\n}\r\n\r\nexport { authentication, database }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}