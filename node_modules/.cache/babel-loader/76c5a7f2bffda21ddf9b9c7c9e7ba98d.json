{"ast":null,"code":"import _objectSpread from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useContext}from'react';import{useNavigate}from'react-router-dom';import{Context}from'../../context';import{database}from'../../firebase/firebaseConfig';import Input from'../../Components/UI/Input/Input';import MainBtn from'../../Components/UI/MainBtn/MainBtn';import'./profile.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(_ref){var darkMode=_ref.darkMode;var _useContext=useContext(Context),userInfo=_useContext.userInfo,setUserInfo=_useContext.setUserInfo;var navigate=useNavigate();var chooseFile=function chooseFile(e){var reader=new FileReader();var file=e.target.files[0];reader.onload=function(){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{photo:reader.result}));};reader.readAsDataURL(file);};var sendUserInfo=function sendUserInfo(){database.writeUserInfoData(userInfo);navigate('/');};var styleObj={btnStyles:{marginTop:'20px',padding:'10px 25px',borderRadius:'8px',backgroundColor:'#29a19c',fontSize:'18px',color:'#fafafa'}};return/*#__PURE__*/_jsx(\"div\",{className:darkMode?'profile darkMode':'profile',children:/*#__PURE__*/_jsx(\"div\",{className:\"profile__container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"profile__form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar-img \",src:userInfo.photo,alt:\"avatar\"}),/*#__PURE__*/_jsx(Input,{className:\"profile__avatarInput\",type:\"file\",id:\"avatar\",onChange:chooseFile}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"avatar\",className:\"avatar__label\",children:\"edit the photo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__inputsContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__nickname\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nickname\",className:\"profile__label\",children:\"Your nickname\"}),/*#__PURE__*/_jsx(Input,{className:\"profile__input\",type:\"text\",id:\"nickname\",value:userInfo.nick,onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{nick:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__email\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"profile__label\",children:\"Your email\"}),/*#__PURE__*/_jsx(Input,{className:\"profile__input\",type:\"email\",id:\"email\",value:userInfo.email,onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{email:e.target.value}));},readOnly:true})]}),/*#__PURE__*/_jsx(MainBtn,{type:\"submit\",styles:styleObj.btnStyles,onClick:sendUserInfo,children:\"save changes\"})]})]})})});};export default Profile;","map":{"version":3,"names":["useContext","useNavigate","Context","database","Input","MainBtn","Profile","darkMode","userInfo","setUserInfo","navigate","chooseFile","e","reader","FileReader","file","target","files","onload","photo","result","readAsDataURL","sendUserInfo","writeUserInfoData","styleObj","btnStyles","marginTop","padding","borderRadius","backgroundColor","fontSize","color","nick","value","email"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/Pages/profile-page/Profile.jsx"],"sourcesContent":["import { useContext } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Context } from '../../context'\r\nimport { database } from '../../firebase/firebaseConfig'\r\nimport Input from '../../Components/UI/Input/Input'\r\nimport MainBtn from '../../Components/UI/MainBtn/MainBtn'\r\nimport './profile.scss'\r\n\r\nconst Profile = ({ darkMode }) => {\r\n  const { userInfo, setUserInfo } = useContext(Context)\r\n  const navigate = useNavigate()\r\n\r\n  const chooseFile = e => {\r\n    const reader = new FileReader()\r\n    const file = e.target.files[0]\r\n\r\n    reader.onload = () => setUserInfo({ ...userInfo, photo: reader.result })\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n  const sendUserInfo = () => {\r\n    database.writeUserInfoData(userInfo)\r\n    navigate('/')\r\n  }\r\n\r\n  const styleObj = {\r\n    btnStyles: {\r\n      marginTop: '20px',\r\n      padding: '10px 25px',\r\n      borderRadius: '8px',\r\n      backgroundColor: '#29a19c',\r\n      fontSize: '18px',\r\n      color: '#fafafa',\r\n    },\r\n  }\r\n\r\n  return (\r\n    <div className={darkMode ? 'profile darkMode' : 'profile'}>\r\n      <div className='profile__container'>\r\n        <form className='profile__form'>\r\n          <div className='profile__avatar'>\r\n            <img className='profile__avatar-img ' src={userInfo.photo} alt='avatar' />\r\n            <Input\r\n              className='profile__avatarInput'\r\n              type='file'\r\n              id='avatar'\r\n              onChange={chooseFile}\r\n            />\r\n            <label htmlFor='avatar' className='avatar__label'>\r\n              edit the photo\r\n            </label>\r\n          </div>\r\n\r\n          <div className='profile__inputsContainer'>\r\n            <div className='profile__nickname'>\r\n              <label htmlFor='nickname' className='profile__label'>\r\n                Your nickname\r\n              </label>\r\n              <Input\r\n                className='profile__input'\r\n                type='text'\r\n                id='nickname'\r\n                value={userInfo.nick}\r\n                onChange={e => setUserInfo({ ...userInfo, nick: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className='profile__email'>\r\n              <label htmlFor='email' className='profile__label'>\r\n                Your email\r\n              </label>\r\n              <Input\r\n                className='profile__input'\r\n                type='email'\r\n                id='email'\r\n                value={userInfo.email}\r\n                onChange={e => setUserInfo({ ...userInfo, email: e.target.value })}\r\n                readOnly\r\n              />\r\n            </div>\r\n            <MainBtn type='submit' styles={styleObj.btnStyles} onClick={sendUserInfo}>\r\n              save changes\r\n            </MainBtn>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}