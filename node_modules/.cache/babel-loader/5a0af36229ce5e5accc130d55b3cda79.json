{"ast":null,"code":"import { ascendingDefined, compareDefined } from \"./sort.js\"; // Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\n\nexport default function quickselect(array, k) {\n  var left = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var right = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Infinity;\n  var compare = arguments.length > 4 ? arguments[4] : undefined;\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n  if (!(left <= k && k <= right)) return array;\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      var n = right - left + 1;\n      var m = k - left + 1;\n      var z = Math.log(n);\n      var s = 0.5 * Math.exp(2 * z / 3);\n      var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    var t = array[k];\n    var i = left;\n    var j = right;\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n\n      while (compare(array[i], t) < 0) {\n        ++i;\n      }\n\n      while (compare(array[j], t) > 0) {\n        --j;\n      }\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);else ++j, swap(array, j, right);\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  var t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}","map":{"version":3,"names":["ascendingDefined","compareDefined","quickselect","array","k","left","right","Infinity","compare","Math","floor","max","min","length","undefined","n","m","z","log","s","exp","sd","sqrt","newLeft","newRight","t","i","j","swap"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/d3-array/src/quickselect.js"],"sourcesContent":["import {ascendingDefined, compareDefined} from \"./sort.js\";\r\n\r\n// Based on https://github.com/mourner/quickselect\r\n// ISC license, Copyright 2018 Vladimir Agafonkin.\r\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\r\n  k = Math.floor(k);\r\n  left = Math.floor(Math.max(0, left));\r\n  right = Math.floor(Math.min(array.length - 1, right));\r\n\r\n  if (!(left <= k && k <= right)) return array;\r\n\r\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\r\n\r\n  while (right > left) {\r\n    if (right - left > 600) {\r\n      const n = right - left + 1;\r\n      const m = k - left + 1;\r\n      const z = Math.log(n);\r\n      const s = 0.5 * Math.exp(2 * z / 3);\r\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\r\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\r\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\r\n      quickselect(array, k, newLeft, newRight, compare);\r\n    }\r\n\r\n    const t = array[k];\r\n    let i = left;\r\n    let j = right;\r\n\r\n    swap(array, left, k);\r\n    if (compare(array[right], t) > 0) swap(array, left, right);\r\n\r\n    while (i < j) {\r\n      swap(array, i, j), ++i, --j;\r\n      while (compare(array[i], t) < 0) ++i;\r\n      while (compare(array[j], t) > 0) --j;\r\n    }\r\n\r\n    if (compare(array[left], t) === 0) swap(array, left, j);\r\n    else ++j, swap(array, j, right);\r\n\r\n    if (j <= k) left = j + 1;\r\n    if (k <= j) right = j - 1;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\nfunction swap(array, i, j) {\r\n  const t = array[i];\r\n  array[i] = array[j];\r\n  array[j] = t;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}