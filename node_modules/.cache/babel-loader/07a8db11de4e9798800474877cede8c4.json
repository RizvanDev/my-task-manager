{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{initializeApp}from'firebase/app';import{getDatabase,ref,set,get}from'firebase/database';import{getAuth,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut}from'firebase/auth';var firebaseConfig=_defineProperty({apiKey:process.env.REACT_APP_FIREBASE_API_KEY,authDomain:process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:process.env.REACT_APP_FIREBASE_DATABASE_URL,projectId:process.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.REACT_APP_FIREBASE_APP_ID},\"databaseURL\",process.env.REACT_APP_FIREBASE_DATABASE_URL);var app=initializeApp(firebaseConfig);var auth=getAuth(app);var db=getDatabase(app);/* \r\n This is an auxiliary function that adds an empty array to the object for rendering,\r\n since empty arrays cannot be stored in the database.\r\n*/var addEmptyArrays=function addEmptyArrays(data){return data.map(function(obj){return obj.hasOwnProperty('data')?obj:_objectSpread(_objectSpread({},obj),{},{data:[]});});};// Helper function for writing data in the database\nvar writeToDataBase=function writeToDataBase(path,data){return set(ref(db,path),data);};// Helper function for reading data from the database\nvar readFromDatabase=function readFromDatabase(path){return get(ref(db,path));};// database\nvar database={// send user information (email,avatar,nickname,id)\nwriteUserInfoData:function(){var _writeUserInfoData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userInfo){var path,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:path=\"users/\".concat(userInfo.uid,\"/user_info\");data={uid:userInfo.uid,username:userInfo.nick,email:userInfo.email,avatar:userInfo.photo};_context.t0=userInfo.uid;if(!_context.t0){_context.next=7;break;}_context.next=6;return writeToDataBase(path,data);case 6:_context.t0=_context.sent;case 7:return _context.abrupt(\"return\",_context.t0);case 8:case\"end\":return _context.stop();}}},_callee);}));function writeUserInfoData(_x){return _writeUserInfoData.apply(this,arguments);}return writeUserInfoData;}(),// send user tasks Data\nwriteUserTasksData:function(){var _writeUserTasksData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(userId,date,tabItems){var path;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:path=\"users/\".concat(userId,\"/user_tasks/\").concat(date);_context2.t0=userId;if(!_context2.t0){_context2.next=6;break;}_context2.next=5;return writeToDataBase(path,_objectSpread({},tabItems.tasks));case 5:_context2.t0=_context2.sent;case 6:return _context2.abrupt(\"return\",_context2.t0);case 7:case\"end\":return _context2.stop();}}},_callee2);}));function writeUserTasksData(_x2,_x3,_x4){return _writeUserTasksData.apply(this,arguments);}return writeUserTasksData;}(),// create/read new day\nwriteNewDayData:function(){var _writeNewDayData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(userId,date,setTabItems,setCategory,setTab){var path,snapshot,dataTabItems,tasks;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:path=\"users/\".concat(userId,\"/user_tasks/\").concat(date);_context3.next=3;return readFromDatabase(path);case 3:snapshot=_context3.sent;dataTabItems={date:new Date().toLocaleDateString().split('.').reverse().join(''),tasks:[]};if(snapshot.exists()){tasks=snapshot.val();setCategory(tasks[0].title);setTab(tasks[0].title);dataTabItems.tasks=addEmptyArrays(tasks);}return _context3.abrupt(\"return\",setTabItems(dataTabItems));case 7:case\"end\":return _context3.stop();}}},_callee3);}));function writeNewDayData(_x5,_x6,_x7,_x8,_x9){return _writeNewDayData.apply(this,arguments);}return writeNewDayData;}(),// create Data for new user\ncreateUserData:function(){var _createUserData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(userId,userInfo,tabItems){var day,path,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:day=new Date().toLocaleDateString().replaceAll('.','');path=\"users/\".concat(userId);data={user_info:{uid:userInfo.uid,username:userInfo.nick,email:userInfo.email,avatar:userInfo.photo},user_tasks:_defineProperty({},day,tabItems.tasks)};_context4.t0=userId;if(!_context4.t0){_context4.next=8;break;}_context4.next=7;return writeToDataBase(path,data);case 7:_context4.t0=_context4.sent;case 8:return _context4.abrupt(\"return\",_context4.t0);case 9:case\"end\":return _context4.stop();}}},_callee4);}));function createUserData(_x10,_x11,_x12){return _createUserData.apply(this,arguments);}return createUserData;}(),// reade user Data\nreadUserData:function(){var _readUserData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(userId,setUserInfo,tabItems,setTabItems,setTab,setCategory){var date,path,snapshot,data,condition,userData;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:date=new Date().toLocaleDateString().replaceAll('.','');path=\"users/\".concat(userId,\"/\");_context5.next=4;return readFromDatabase(path);case 4:snapshot=_context5.sent;if(snapshot.exists()){data=snapshot.val();condition=data.user_tasks&&data.user_tasks[date];userData={info:{photo:data.user_info.avatar,nick:data.user_info.username,email:data.user_info.email,uid:data.user_info.uid},tasks:_objectSpread(_objectSpread({},tabItems),{},{tasks:addEmptyArrays(condition?data.user_tasks[date]:[])})};setUserInfo(userData.info);setTabItems(userData.tasks);setCategory(condition?data.user_tasks[date][0].title:'');setTab(condition?data.user_tasks[date][0].title:'');}case 6:case\"end\":return _context5.stop();}}},_callee5);}));function readUserData(_x13,_x14,_x15,_x16,_x17,_x18){return _readUserData.apply(this,arguments);}return readUserData;}(),// reading the data of the selected day\nreadPastData:function(){var _readPastData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(_ref){var params,date,path,snapshot,tasks;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:params=Object.assign({},_ref);date=params.date.toLocaleDateString().replaceAll('.','');path=\"users/\".concat(params.userInfo.uid,\"/user_tasks/\").concat(date);_context6.next=5;return readFromDatabase(path);case 5:snapshot=_context6.sent;if(snapshot.exists()){tasks=snapshot.val();params.setCalendarDate(params.date);params.setCategory(tasks[0].title);params.setTab(tasks[0].title);params.setTabItems(_objectSpread(_objectSpread({},params.tabItems),{},{tasks:addEmptyArrays(tasks)}));params.openModals(_objectSpread(_objectSpread({},params.modals),{},{calendarModal:false}));}else{params.createAuthInfoModal({show:true,type:'Error',text:\"You don't have any tasks for this day\"});}case 7:case\"end\":return _context6.stop();}}},_callee6);}));function readPastData(_x19){return _readPastData.apply(this,arguments);}return readPastData;}(),// Statistics\ncreateStatistics:function(){var _createStatistics=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(userId,period,setStatistics){var date,path,snapshot,statistics,data,updateStatistics,periods;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:date=new Date().toLocaleDateString().replaceAll('.','');path=\"users/\".concat(userId,\"/user_tasks/\").concat(period==='Day'?date:'');_context7.next=4;return readFromDatabase(path);case 4:snapshot=_context7.sent;statistics={Categories:0,Created:0,Completed:0};if(snapshot.exists()){data=snapshot.val();updateStatistics=function updateStatistics(data){data.forEach(function(category){if(category.hasOwnProperty('data')){statistics.Created+=category.data.length;statistics.Completed+=category.data.filter(function(task){return task.completed;}).length;}});};periods={Day:function Day(){statistics.Categories=data.length;updateStatistics(data);},Month:function Month(){var currentMonth=date.substring(2,4);for(var day in data){if(day.substring(2,4)===currentMonth){statistics.Categories+=data[day].length;updateStatistics(data[day]);}}},Year:function Year(){var currentYear=date.substring(4);for(var day in data){if(day.substring(4)===currentYear){statistics.Categories+=data[day].length;updateStatistics(data[day]);}}}};periods[period]();}return _context7.abrupt(\"return\",setStatistics(statistics));case 8:case\"end\":return _context7.stop();}}},_callee7);}));function createStatistics(_x20,_x21,_x22){return _createStatistics.apply(this,arguments);}return createStatistics;}()};// Authentication methods\nvar authentication={// Login\nloginEmailPassword:function(){var _loginEmailPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(_ref2){var params,userCredential;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:params=Object.assign({},_ref2);if(!params.login.Password){_context8.next=12;break;}_context8.prev=2;_context8.next=5;return signInWithEmailAndPassword(auth,params.login.Email,params.login.Password);case 5:userCredential=_context8.sent;if(userCredential){params.setLogin({Email:'',Password:''});params.createAuthInfoModal({show:true,type:'Success',text:'Authorization successfully'});params.setUserInfo(_objectSpread(_objectSpread({},params.userInfo),{},{uid:userCredential.user.uid}));database.readUserData(userCredential.user.uid,params.setUserInfo,params.tabItems,params.setTabItems,params.setTab,params.setCategory);setTimeout(function(){params.openModals(_objectSpread(_objectSpread({},params.modals),{},{authModal:false}));},1500);}_context8.next=12;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](2);params.createAuthInfoModal({show:true,type:'Error',text:_context8.t0.code});case 12:case\"end\":return _context8.stop();}}},_callee8,null,[[2,9]]);}));function loginEmailPassword(_x23){return _loginEmailPassword.apply(this,arguments);}return loginEmailPassword;}(),// Registration\nregistrationEmailPassword:function(){var _registrationEmailPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(_ref3){var params,userCredential;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:params=Object.assign({},_ref3);if(!params.registration.Password){_context9.next=12;break;}_context9.prev=2;_context9.next=5;return createUserWithEmailAndPassword(auth,params.registration.Email,params.registration.Password);case 5:userCredential=_context9.sent;if(userCredential){params.setRegistration({Email:'',Password:''});params.createAuthInfoModal({show:true,type:'Success',text:'Registration successfully'});params.setUserInfo(_objectSpread(_objectSpread({},params.userInfo),{},{email:userCredential.user.email,uid:userCredential.user.uid}));database.createUserData(userCredential.user.uid,params.userInfo,params.tabItems);setTimeout(function(){params.openModals(_objectSpread(_objectSpread({},params.modals),{},{authModal:false}));params.navigate('Profile.jsx');},1000);}_context9.next=12;break;case 9:_context9.prev=9;_context9.t0=_context9[\"catch\"](2);params.createAuthInfoModal({show:true,type:'Error',text:_context9.t0.code});case 12:case\"end\":return _context9.stop();}}},_callee9,null,[[2,9]]);}));function registrationEmailPassword(_x24){return _registrationEmailPassword.apply(this,arguments);}return registrationEmailPassword;}(),// Logout\nlogOut:function(){var _logOut=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(_ref4){var params,userData;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:params=Object.assign({},_ref4);userData={info:{photo:params.defaultPhoto,nick:'username',email:'',uid:''},tasks:_objectSpread(_objectSpread({},params.tabItems),{},{tasks:[]})};params.setCalendarDate(new Date());params.setTimeLine({past:false,future:false});params.setUserInfo(userData.info);params.setTabItems(userData.tasks);_context10.next=8;return signOut(auth);case 8:return _context10.abrupt(\"return\",_context10.sent);case 9:case\"end\":return _context10.stop();}}},_callee10);}));function logOut(_x25){return _logOut.apply(this,arguments);}return logOut;}()};export{authentication,database};","map":{"version":3,"names":["initializeApp","getDatabase","ref","set","get","getAuth","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","databaseURL","REACT_APP_FIREBASE_DATABASE_URL","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","auth","db","addEmptyArrays","data","map","obj","hasOwnProperty","writeToDataBase","path","readFromDatabase","database","writeUserInfoData","userInfo","uid","username","nick","email","avatar","photo","writeUserTasksData","userId","date","tabItems","tasks","writeNewDayData","setTabItems","setCategory","setTab","snapshot","dataTabItems","Date","toLocaleDateString","split","reverse","join","exists","val","title","createUserData","day","replaceAll","user_info","user_tasks","readUserData","setUserInfo","condition","userData","info","readPastData","params","setCalendarDate","openModals","modals","calendarModal","createAuthInfoModal","show","type","text","createStatistics","period","setStatistics","statistics","Categories","Created","Completed","updateStatistics","forEach","category","length","filter","task","completed","periods","Day","Month","currentMonth","substring","Year","currentYear","authentication","loginEmailPassword","login","Password","Email","userCredential","setLogin","user","setTimeout","authModal","code","registrationEmailPassword","registration","setRegistration","navigate","logOut","defaultPhoto","setTimeLine","past","future"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/firebase/firebaseConfig.js"],"sourcesContent":["import { initializeApp } from 'firebase/app'\r\nimport { getDatabase, ref, set, get } from 'firebase/database'\r\nimport {\r\n  getAuth,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  signOut,\r\n} from 'firebase/auth'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n}\r\n\r\nconst app = initializeApp(firebaseConfig)\r\nconst auth = getAuth(app)\r\nconst db = getDatabase(app)\r\n\r\n/* \r\n This is an auxiliary function that adds an empty array to the object for rendering,\r\n since empty arrays cannot be stored in the database.\r\n*/\r\nconst addEmptyArrays = data => {\r\n  return data.map(obj => (obj.hasOwnProperty('data') ? obj : { ...obj, data: [] }))\r\n}\r\n// Helper function for writing data in the database\r\nconst writeToDataBase = (path, data) => set(ref(db, path), data)\r\n// Helper function for reading data from the database\r\nconst readFromDatabase = path => get(ref(db, path))\r\n\r\n// database\r\nconst database = {\r\n  // send user information (email,avatar,nickname,id)\r\n  writeUserInfoData: async userInfo => {\r\n    const path = `users/${userInfo.uid}/user_info`\r\n\r\n    const data = {\r\n      uid: userInfo.uid,\r\n      username: userInfo.nick,\r\n      email: userInfo.email,\r\n      avatar: userInfo.photo,\r\n    }\r\n\r\n    return userInfo.uid && (await writeToDataBase(path, data))\r\n  },\r\n  // send user tasks Data\r\n  writeUserTasksData: async (userId, date, tabItems) => {\r\n    const path = `users/${userId}/user_tasks/${date}`\r\n    return userId && (await writeToDataBase(path, { ...tabItems.tasks }))\r\n  },\r\n  // create/read new day\r\n  writeNewDayData: async (userId, date, setTabItems, setCategory, setTab) => {\r\n    const path = `users/${userId}/user_tasks/${date}`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    const dataTabItems = {\r\n      date: new Date().toLocaleDateString().split('.').reverse().join(''),\r\n      tasks: [],\r\n    }\r\n\r\n    if (snapshot.exists()) {\r\n      const tasks = snapshot.val()\r\n\r\n      setCategory(tasks[0].title)\r\n      setTab(tasks[0].title)\r\n      dataTabItems.tasks = addEmptyArrays(tasks)\r\n    }\r\n\r\n    return setTabItems(dataTabItems)\r\n  },\r\n  // create Data for new user\r\n  createUserData: async (userId, userInfo, tabItems) => {\r\n    const day = new Date().toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userId}`\r\n\r\n    const data = {\r\n      user_info: {\r\n        uid: userInfo.uid,\r\n        username: userInfo.nick,\r\n        email: userInfo.email,\r\n        avatar: userInfo.photo,\r\n      },\r\n      user_tasks: { [day]: tabItems.tasks },\r\n    }\r\n\r\n    return userId && (await writeToDataBase(path, data))\r\n  },\r\n  // reade user Data\r\n  readUserData: async (userId, setUserInfo, tabItems, setTabItems, setTab, setCategory) => {\r\n    const date = new Date().toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userId}/`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.val()\r\n\r\n      const condition = data.user_tasks && data.user_tasks[date]\r\n\r\n      const userData = {\r\n        info: {\r\n          photo: data.user_info.avatar,\r\n          nick: data.user_info.username,\r\n          email: data.user_info.email,\r\n          uid: data.user_info.uid,\r\n        },\r\n        tasks: {\r\n          ...tabItems,\r\n          tasks: addEmptyArrays(condition ? data.user_tasks[date] : []),\r\n        },\r\n      }\r\n\r\n      setUserInfo(userData.info)\r\n      setTabItems(userData.tasks)\r\n      setCategory(condition ? data.user_tasks[date][0].title : '')\r\n      setTab(condition ? data.user_tasks[date][0].title : '')\r\n    }\r\n  },\r\n  // reading the data of the selected day\r\n  readPastData: async ({ ...params }) => {\r\n    const date = params.date.toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${params.userInfo.uid}/user_tasks/${date}`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    if (snapshot.exists()) {\r\n      const tasks = snapshot.val()\r\n\r\n      params.setCalendarDate(params.date)\r\n      params.setCategory(tasks[0].title)\r\n      params.setTab(tasks[0].title)\r\n      params.setTabItems({ ...params.tabItems, tasks: addEmptyArrays(tasks) })\r\n      params.openModals({ ...params.modals, calendarModal: false })\r\n    } else {\r\n      params.createAuthInfoModal({\r\n        show: true,\r\n        type: 'Error',\r\n        text: `You don't have any tasks for this day`,\r\n      })\r\n    }\r\n  },\r\n  // Statistics\r\n  createStatistics: async (userId, period, setStatistics) => {\r\n    const date = new Date().toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userId}/user_tasks/${period === 'Day' ? date : ''}`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    const statistics = { Categories: 0, Created: 0, Completed: 0 }\r\n\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.val()\r\n\r\n      const updateStatistics = data => {\r\n        data.forEach(category => {\r\n          if (category.hasOwnProperty('data')) {\r\n            statistics.Created += category.data.length\r\n            statistics.Completed += category.data.filter(task => task.completed).length\r\n          }\r\n        })\r\n      }\r\n\r\n      const periods = {\r\n        Day: () => {\r\n          statistics.Categories = data.length\r\n          updateStatistics(data)\r\n        },\r\n        Month: () => {\r\n          const currentMonth = date.substring(2, 4)\r\n\r\n          for (const day in data) {\r\n            if (day.substring(2, 4) === currentMonth) {\r\n              statistics.Categories += data[day].length\r\n              updateStatistics(data[day])\r\n            }\r\n          }\r\n        },\r\n        Year: () => {\r\n          const currentYear = date.substring(4)\r\n\r\n          for (const day in data) {\r\n            if (day.substring(4) === currentYear) {\r\n              statistics.Categories += data[day].length\r\n              updateStatistics(data[day])\r\n            }\r\n          }\r\n        },\r\n      }\r\n\r\n      periods[period]()\r\n    }\r\n\r\n    return setStatistics(statistics)\r\n  },\r\n}\r\n\r\n// Authentication methods\r\nconst authentication = {\r\n  // Login\r\n  loginEmailPassword: async ({ ...params }) => {\r\n    if (params.login.Password) {\r\n      try {\r\n        const userCredential = await signInWithEmailAndPassword(\r\n          auth,\r\n          params.login.Email,\r\n          params.login.Password,\r\n        )\r\n\r\n        if (userCredential) {\r\n          params.setLogin({ Email: '', Password: '' })\r\n          params.createAuthInfoModal({\r\n            show: true,\r\n            type: 'Success',\r\n            text: 'Authorization successfully',\r\n          })\r\n\r\n          params.setUserInfo({\r\n            ...params.userInfo,\r\n            uid: userCredential.user.uid,\r\n          })\r\n\r\n          database.readUserData(\r\n            userCredential.user.uid,\r\n            params.setUserInfo,\r\n            params.tabItems,\r\n            params.setTabItems,\r\n            params.setTab,\r\n            params.setCategory,\r\n          )\r\n\r\n          setTimeout(() => {\r\n            params.openModals({ ...params.modals, authModal: false })\r\n          }, 1500)\r\n        }\r\n      } catch (Error) {\r\n        params.createAuthInfoModal({ show: true, type: 'Error', text: Error.code })\r\n      }\r\n    }\r\n  },\r\n  // Registration\r\n  registrationEmailPassword: async ({ ...params }) => {\r\n    if (params.registration.Password) {\r\n      try {\r\n        const userCredential = await createUserWithEmailAndPassword(\r\n          auth,\r\n          params.registration.Email,\r\n          params.registration.Password,\r\n        )\r\n\r\n        if (userCredential) {\r\n          params.setRegistration({ Email: '', Password: '' })\r\n          params.createAuthInfoModal({\r\n            show: true,\r\n            type: 'Success',\r\n            text: 'Registration successfully',\r\n          })\r\n\r\n          params.setUserInfo({\r\n            ...params.userInfo,\r\n            email: userCredential.user.email,\r\n            uid: userCredential.user.uid,\r\n          })\r\n\r\n          database.createUserData(userCredential.user.uid, params.userInfo, params.tabItems)\r\n\r\n          setTimeout(() => {\r\n            params.openModals({ ...params.modals, authModal: false })\r\n            params.navigate('Profile.jsx')\r\n          }, 1000)\r\n        }\r\n      } catch (Error) {\r\n        params.createAuthInfoModal({ show: true, type: 'Error', text: Error.code })\r\n      }\r\n    }\r\n  },\r\n  // Logout\r\n  logOut: async ({ ...params }) => {\r\n    const userData = {\r\n      info: {\r\n        photo: params.defaultPhoto,\r\n        nick: 'username',\r\n        email: '',\r\n        uid: '',\r\n      },\r\n      tasks: { ...params.tabItems, tasks: [] },\r\n    }\r\n\r\n    params.setCalendarDate(new Date())\r\n    params.setTimeLine({ past: false, future: false })\r\n    params.setUserInfo(userData.info)\r\n    params.setTabItems(userData.tasks)\r\n\r\n    return await signOut(auth)\r\n  },\r\n}\r\n\r\nexport { authentication, database }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}