{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _createForOfIteratorHelper from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _defineProperty from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{initializeApp}from'firebase/app';import{getAuth,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut}from'firebase/auth';import{getDatabase,ref,set,update,get}from'firebase/database';var firebaseConfig=_defineProperty({apiKey:process.env.REACT_APP_FIREBASE_API_KEY,authDomain:process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:process.env.REACT_APP_FIREBASE_DATABASE_URL,projectId:process.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.REACT_APP_FIREBASE_APP_ID},\"databaseURL\",process.env.REACT_APP_FIREBASE_DATABASE_URL);var app=initializeApp(firebaseConfig);var auth=getAuth(app);var db=getDatabase(app);var addEmptyArrays=function addEmptyArrays(data){if(data){var _iterator=_createForOfIteratorHelper(data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var obj=_step.value;if(!obj.hasOwnProperty('data'))obj.data=[];}}catch(err){_iterator.e(err);}finally{_iterator.f();}return data;}return[];};// database\nvar database={// send user information (email,avatar,nickname,id)\nwriteUserInfoData:function writeUserInfoData(userInfo){var reference=ref(db,\"users/\".concat(userInfo.uid,\"/user_info\"));if(userInfo.uid){return set(reference,{uid:userInfo.uid,username:userInfo.nick,email:userInfo.email,avatar:userInfo.photo});}},// send user tasks Data\nwriteUserTasksData:function writeUserTasksData(userId,date,tabItems){var reference=ref(db,\"users/\".concat(userId,\"/user_tasks/\").concat(date));if(userId){return set(reference,_objectSpread({},tabItems));}},// create new data for the day\nwriteNewDayData:function writeNewDayData(userId,date,defaultItems,setTabItem,setCategory,setTab){var distanceRef=ref(db,\"users/\".concat(userId,\"/user_tasks/\").concat(date));return get(distanceRef).then(function(snapshot){if(snapshot.exists()){var tasks=snapshot.val();setCategory(tasks[0].title);setTab(tasks[0].title);return setTabItem(_toConsumableArray(addEmptyArrays(tasks)));}var reference=ref(db,\"users/\".concat(userId,\"/user_tasks/\"));setTabItem(defaultItems);setCategory(defaultItems[0].title);setTab(defaultItems[0].title);return update(reference,_defineProperty({},date,defaultItems));});},// create Data for new user\ncreateUserData:function createUserData(userId,userInfo,tabItems){var reference=ref(db,\"users/\".concat(userId));var day=new Date().toLocaleDateString().split('.').join('');if(userId){return set(reference,{user_info:{uid:userInfo.uid,username:userInfo.nick,email:userInfo.email,avatar:userInfo.photo},user_tasks:_defineProperty({},day,tabItems)});}},// reade user Data\nreadUserData:function readUserData(userId,setUserInfo,setTabItem,setTab,setCategory){var distanceRef=ref(db,\"users/\".concat(userId,\"/\"));var date=new Date().toLocaleDateString().split('.').join('');return get(distanceRef).then(function(snapshot){if(snapshot.exists()){var data=snapshot.val();setUserInfo({photo:data.user_info.avatar,nick:data.user_info.username,email:data.user_info.email,uid:data.user_info.uid});var condition=data.user_tasks&&data.user_tasks[date];setTabItem(_toConsumableArray(addEmptyArrays(condition?data.user_tasks[date]:[])));setCategory(condition?data.user_tasks[date][0].title:'');setTab(condition?data.user_tasks[date][0].title:'');}});},// reading the data of the selected day\nreadPastData:function readPastData(_ref){var params=Object.assign({},_ref);var date=params.date.toLocaleDateString().split('.').join('');var distanceRef=ref(db,\"users/\".concat(params.userInfo.uid,\"/user_tasks/\").concat(date));return get(distanceRef).then(function(snapshot){if(snapshot.exists()){var tasks=snapshot.val();params.setCalendarDate(params.date);setTimeout(function(){params.setTabItem(_toConsumableArray(addEmptyArrays(tasks)));params.setCategory(tasks[0].title);params.setTab(tasks[0].title);params.setCalendarModal(false);},500);return;}return params.createAuthInfoModal({show:true,type:'Error',text:\"You don't have any tasks for this day\"});});}};// Authentication methods\nvar authentication={// Login\nloginEmailPassword:function(){var _loginEmailPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref2){var params,userCredential;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=Object.assign({},_ref2);if(!params.login.Password){_context.next=12;break;}_context.prev=2;_context.next=5;return signInWithEmailAndPassword(auth,params.login.Email,params.login.Password);case 5:userCredential=_context.sent;if(userCredential){params.setAuthorization(true);params.setLogin({Email:'',Password:''});params.createAuthInfoModal({show:true,type:'Success',text:'Authorization successfully'});params.setUserInfo(_objectSpread(_objectSpread({},params.userInfo),{},{uid:userCredential.user.uid}));database.readUserData(userCredential.user.uid,params.setUserInfo,params.setTabItem,params.setTab,params.setCategory);setTimeout(function(){return params.setAuthModal(false);},1500);}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);params.createAuthInfoModal({show:true,type:'Error',text:_context.t0.code});case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));function loginEmailPassword(_x){return _loginEmailPassword.apply(this,arguments);}return loginEmailPassword;}(),// Registration\nregistrationEmailPassword:function(){var _registrationEmailPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref3){var params,userCredential;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:params=Object.assign({},_ref3);if(!params.registration.Password){_context2.next=13;break;}_context2.prev=2;_context2.next=5;return createUserWithEmailAndPassword(auth,params.registration.Email,params.registration.Password);case 5:userCredential=_context2.sent;if(userCredential){params.setAuthorization(true);params.setRegistration({Email:'',Password:''});params.createAuthInfoModal({modal:true,type:'Success',text:'Registration successfully'});params.setUserInfo(_objectSpread(_objectSpread({},params.userInfo),{},{email:userCredential.user.email,uid:userCredential.user.uid}));database.createUserData(userCredential.user.uid,params.userInfo,params.tabItems);setTimeout(function(){params.setAuthModal(false);params.navigate('Profile.jsx');},1000);}_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](2);console.log(_context2.t0);params.createAuthInfoModal({modal:true,type:'Error',text:_context2.t0.code});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[2,9]]);}));function registrationEmailPassword(_x2){return _registrationEmailPassword.apply(this,arguments);}return registrationEmailPassword;}(),// Logout\nlogOut:function logOut(_ref4){var params=Object.assign({},_ref4);return signOut(auth).then(function(){params.setAuthorization(false);params.setUserInfo({photo:params.defaultPhoto,nick:'username',email:'',uid:''});params.setTabItem(_toConsumableArray(params.defaultItems));params.setTab(params.defaultItems[0].title);params.setCategory(params.defaultItems[0].title);});}};export{authentication,database};","map":{"version":3,"names":["initializeApp","getAuth","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","getDatabase","ref","set","update","get","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","databaseURL","REACT_APP_FIREBASE_DATABASE_URL","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","auth","db","addEmptyArrays","data","obj","hasOwnProperty","database","writeUserInfoData","userInfo","reference","uid","username","nick","email","avatar","photo","writeUserTasksData","userId","date","tabItems","writeNewDayData","defaultItems","setTabItem","setCategory","setTab","distanceRef","then","snapshot","exists","tasks","val","title","createUserData","day","Date","toLocaleDateString","split","join","user_info","user_tasks","readUserData","setUserInfo","condition","readPastData","params","setCalendarDate","setTimeout","setCalendarModal","createAuthInfoModal","show","type","text","authentication","loginEmailPassword","login","Password","Email","userCredential","setAuthorization","setLogin","user","setAuthModal","code","registrationEmailPassword","registration","setRegistration","modal","navigate","console","log","logOut","defaultPhoto"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/firebase/firebaseConfig.js"],"sourcesContent":["import { initializeApp } from 'firebase/app'\r\n\r\nimport {\r\n  getAuth,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  signOut,\r\n} from 'firebase/auth'\r\nimport { getDatabase, ref, set, update, get } from 'firebase/database'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n}\r\n\r\nconst app = initializeApp(firebaseConfig)\r\nconst auth = getAuth(app)\r\nconst db = getDatabase(app)\r\n\r\nconst addEmptyArrays = data => {\r\n  if (data) {\r\n    for (const obj of data) {\r\n      if (!obj.hasOwnProperty('data')) obj.data = []\r\n    }\r\n\r\n    return data\r\n  }\r\n\r\n  return []\r\n}\r\n\r\n// database\r\nconst database = {\r\n  // send user information (email,avatar,nickname,id)\r\n  writeUserInfoData: userInfo => {\r\n    const reference = ref(db, `users/${userInfo.uid}/user_info`)\r\n\r\n    if (userInfo.uid) {\r\n      return set(reference, {\r\n        uid: userInfo.uid,\r\n        username: userInfo.nick,\r\n        email: userInfo.email,\r\n        avatar: userInfo.photo,\r\n      })\r\n    }\r\n  },\r\n  // send user tasks Data\r\n  writeUserTasksData: (userId, date, tabItems) => {\r\n    const reference = ref(db, `users/${userId}/user_tasks/${date}`)\r\n\r\n    if (userId) {\r\n      return set(reference, { ...tabItems })\r\n    }\r\n  },\r\n  // create new data for the day\r\n  writeNewDayData: (userId, date, defaultItems, setTabItem, setCategory, setTab) => {\r\n    const distanceRef = ref(db, `users/${userId}/user_tasks/${date}`)\r\n\r\n    return get(distanceRef).then(snapshot => {\r\n      if (snapshot.exists()) {\r\n        const tasks = snapshot.val()\r\n        setCategory(tasks[0].title)\r\n        setTab(tasks[0].title)\r\n        return setTabItem([...addEmptyArrays(tasks)])\r\n      }\r\n\r\n      const reference = ref(db, `users/${userId}/user_tasks/`)\r\n      setTabItem(defaultItems)\r\n      setCategory(defaultItems[0].title)\r\n      setTab(defaultItems[0].title)\r\n      return update(reference, { [date]: defaultItems })\r\n    })\r\n  },\r\n  // create Data for new user\r\n  createUserData: (userId, userInfo, tabItems) => {\r\n    const reference = ref(db, `users/${userId}`)\r\n    const day = new Date().toLocaleDateString().split('.').join('')\r\n\r\n    if (userId) {\r\n      return set(reference, {\r\n        user_info: {\r\n          uid: userInfo.uid,\r\n          username: userInfo.nick,\r\n          email: userInfo.email,\r\n          avatar: userInfo.photo,\r\n        },\r\n        user_tasks: { [day]: tabItems },\r\n      })\r\n    }\r\n  },\r\n  // reade user Data\r\n  readUserData: (userId, setUserInfo, setTabItem, setTab, setCategory) => {\r\n    const distanceRef = ref(db, `users/${userId}/`)\r\n    const date = new Date().toLocaleDateString().split('.').join('')\r\n\r\n    return get(distanceRef).then(snapshot => {\r\n      if (snapshot.exists()) {\r\n        const data = snapshot.val()\r\n\r\n        setUserInfo({\r\n          photo: data.user_info.avatar,\r\n          nick: data.user_info.username,\r\n          email: data.user_info.email,\r\n          uid: data.user_info.uid,\r\n        })\r\n\r\n        const condition = data.user_tasks && data.user_tasks[date]\r\n\r\n        setTabItem([...addEmptyArrays(condition ? data.user_tasks[date] : [])])\r\n        setCategory(condition ? data.user_tasks[date][0].title : '')\r\n        setTab(condition ? data.user_tasks[date][0].title : '')\r\n      }\r\n    })\r\n  },\r\n  // reading the data of the selected day\r\n  readPastData: ({ ...params }) => {\r\n    const date = params.date.toLocaleDateString().split('.').join('')\r\n    const distanceRef = ref(db, `users/${params.userInfo.uid}/user_tasks/${date}`)\r\n\r\n    return get(distanceRef).then(snapshot => {\r\n      if (snapshot.exists()) {\r\n        const tasks = snapshot.val()\r\n        params.setCalendarDate(params.date)\r\n        setTimeout(() => {\r\n          params.setTabItem([...addEmptyArrays(tasks)])\r\n          params.setCategory(tasks[0].title)\r\n          params.setTab(tasks[0].title)\r\n          params.setCalendarModal(false)\r\n        }, 500)\r\n        return\r\n      }\r\n\r\n      return params.createAuthInfoModal({\r\n        show: true,\r\n        type: 'Error',\r\n        text: `You don't have any tasks for this day`,\r\n      })\r\n    })\r\n  },\r\n}\r\n\r\n// Authentication methods\r\nconst authentication = {\r\n  // Login\r\n  loginEmailPassword: async ({ ...params }) => {\r\n    if (params.login.Password) {\r\n      try {\r\n        const userCredential = await signInWithEmailAndPassword(\r\n          auth,\r\n          params.login.Email,\r\n          params.login.Password,\r\n        )\r\n\r\n        if (userCredential) {\r\n          params.setAuthorization(true)\r\n          params.setLogin({ Email: '', Password: '' })\r\n          params.createAuthInfoModal({\r\n            show: true,\r\n            type: 'Success',\r\n            text: 'Authorization successfully',\r\n          })\r\n\r\n          params.setUserInfo({\r\n            ...params.userInfo,\r\n            uid: userCredential.user.uid,\r\n          })\r\n\r\n          database.readUserData(\r\n            userCredential.user.uid,\r\n            params.setUserInfo,\r\n            params.setTabItem,\r\n            params.setTab,\r\n            params.setCategory,\r\n          )\r\n\r\n          setTimeout(() => params.setAuthModal(false), 1500)\r\n        }\r\n      } catch (Error) {\r\n        params.createAuthInfoModal({ show: true, type: 'Error', text: Error.code })\r\n      }\r\n    }\r\n  },\r\n  // Registration\r\n  registrationEmailPassword: async ({ ...params }) => {\r\n    if (params.registration.Password) {\r\n      try {\r\n        const userCredential = await createUserWithEmailAndPassword(\r\n          auth,\r\n          params.registration.Email,\r\n          params.registration.Password,\r\n        )\r\n\r\n        if (userCredential) {\r\n          params.setAuthorization(true)\r\n          params.setRegistration({ Email: '', Password: '' })\r\n          params.createAuthInfoModal({\r\n            modal: true,\r\n            type: 'Success',\r\n            text: 'Registration successfully',\r\n          })\r\n\r\n          params.setUserInfo({\r\n            ...params.userInfo,\r\n            email: userCredential.user.email,\r\n            uid: userCredential.user.uid,\r\n          })\r\n\r\n          database.createUserData(\r\n            userCredential.user.uid,\r\n            params.userInfo,\r\n            params.tabItems,\r\n          )\r\n\r\n          setTimeout(() => {\r\n            params.setAuthModal(false)\r\n            params.navigate('Profile.jsx')\r\n          }, 1000)\r\n        }\r\n      } catch (Error) {\r\n        console.log(Error)\r\n        params.createAuthInfoModal({ modal: true, type: 'Error', text: Error.code })\r\n      }\r\n    }\r\n  },\r\n  // Logout\r\n  logOut: ({ ...params }) => {\r\n    return signOut(auth).then(() => {\r\n      params.setAuthorization(false)\r\n      params.setUserInfo({\r\n        photo: params.defaultPhoto,\r\n        nick: 'username',\r\n        email: '',\r\n        uid: '',\r\n      })\r\n      params.setTabItem([...params.defaultItems])\r\n      params.setTab(params.defaultItems[0].title)\r\n      params.setCategory(params.defaultItems[0].title)\r\n    })\r\n  },\r\n}\r\n\r\nexport { authentication, database }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}