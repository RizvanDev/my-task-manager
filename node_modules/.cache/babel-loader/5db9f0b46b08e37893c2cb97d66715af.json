{"ast":null,"code":"import _objectSpread from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createRef,useContext}from'react';import{database}from'../../../../../firebase/firebaseConfig';import{CSSTransition,TransitionGroup}from'react-transition-group';import'./categoriesTab.scss';import MyTitle from'../../../../../Components/MyTitle/MyTitle';import CategoriesConfig from'../CategoriesConfig/CategoriesConfig';import Task from'../Task/Task';import useValue from'../../../../../hooks/useValue';import{Context}from'../../../../../context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CategoriesTab=function CategoriesTab(props){var _useValue=useValue(false),_useValue2=_slicedToArray(_useValue,2),modal=_useValue2[0],setModal=_useValue2[1];var _useContext=useContext(Context),darkMode=_useContext.darkMode,tab=_useContext.tab,setTab=_useContext.setTab,setCategory=_useContext.setCategory,tabItems=_useContext.tabItems,setTabItem=_useContext.setTabItem,editTask=_useContext.editTask,checkTask=_useContext.checkTask,deleteTask=_useContext.deleteTask,setSortType=_useContext.setSortType,timeLine=_useContext.timeLine,userInfo=_useContext.userInfo,calendarDate=_useContext.calendarDate;var removeCategory=function removeCategory(){var checkingTabs=tabItems.tasks[props.idx-1]||tabItems.tasks[1];setTab(tabItems.tasks.length>1&&checkingTabs.title);setCategory(tabItems.tasks.length>1&&checkingTabs.title);setTabItem(_objectSpread(_objectSpread({},tabItems),{},{tasks:tabItems.tasks.filter(function(e){return e.title!==props.category.title;})}));return database.writeUserTasksData(userInfo.uid,calendarDate.toLocaleDateString().split('.').join(''),_objectSpread(_objectSpread({},tabItems),{},{tasks:tabItems.tasks.filter(function(e){return e.title!==props.category.title;})}));};return/*#__PURE__*/_jsxs(\"div\",{className:tab===props.category.title?'category__container active':'category__container',children:[/*#__PURE__*/_jsx(\"div\",{className:\"category__title\",children:props.category.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"category__activeTasks\",children:[/*#__PURE__*/_jsx(MyTitle,{fontSize:\"18px\",lineHeight:\"25px\",letterSpacing:\"0.02em\",children:\"Active tasks\"}),/*#__PURE__*/_jsx(TransitionGroup,{className:darkMode?'activeTasksContainer darkMode':'activeTasksContainer',children:props.category.data.filter(function(task){return!task.completed;}).map(function(uncompletedTask){var nodeRef=/*#__PURE__*/createRef(null);return/*#__PURE__*/_jsx(CSSTransition,{nodeRef:nodeRef,timeout:500,classNames:\"task\",children:/*#__PURE__*/_jsx(Task,{time:uncompletedTask.time,currentTask:uncompletedTask,tabTitle:props.category.title,deleteTask:deleteTask,completed:uncompletedTask.completed,checkTask:checkTask,editTask:editTask,timeLine:timeLine,ref:nodeRef,children:uncompletedTask.task})},uncompletedTask.time);})})]}),!timeLine.future&&/*#__PURE__*/_jsxs(\"div\",{className:\"category__completedTasks\",children:[/*#__PURE__*/_jsx(MyTitle,{fontSize:\"18px\",lineHeight:\"25px\",letterSpacing:\"0.02em\",children:\"Completed tasks\"}),/*#__PURE__*/_jsx(TransitionGroup,{className:darkMode?'completedTasksContainer darkMode':'completedTasksContainer',children:props.category.data.filter(function(task){return task.completed;}).map(function(completedTask){var nodeRef=/*#__PURE__*/createRef(null);return/*#__PURE__*/_jsx(CSSTransition,{nodeRef:nodeRef,timeout:500,classNames:\"task\",children:/*#__PURE__*/_jsx(Task,{time:completedTask.time,currentTask:completedTask,tabTitle:props.category.title,deleteTask:deleteTask,completed:completedTask.completed,checkTask:checkTask,timeLine:timeLine,ref:nodeRef,children:completedTask.task})},completedTask.time);})})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"category__configBtn\",title:\"configuration\",onClick:function onClick(){return setModal(!modal);},children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]}),/*#__PURE__*/_jsx(CategoriesConfig,{modal:modal,timeLine:timeLine,category:props.category,setSortType:setSortType,removeCategory:removeCategory})]});};export default CategoriesTab;","map":{"version":3,"names":["React","createRef","useContext","database","CSSTransition","TransitionGroup","MyTitle","CategoriesConfig","Task","useValue","Context","CategoriesTab","props","modal","setModal","darkMode","tab","setTab","setCategory","tabItems","setTabItem","editTask","checkTask","deleteTask","setSortType","timeLine","userInfo","calendarDate","removeCategory","checkingTabs","tasks","idx","length","title","filter","e","category","writeUserTasksData","uid","toLocaleDateString","split","join","data","task","completed","map","uncompletedTask","nodeRef","time","future","completedTask"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/Pages/main-page/MainContent/Tasks/CategoriesTab/CategoriesTab.jsx"],"sourcesContent":["import React, { createRef, useContext } from 'react'\r\nimport { database } from '../../../../../firebase/firebaseConfig'\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\r\nimport './categoriesTab.scss'\r\nimport MyTitle from '../../../../../Components/MyTitle/MyTitle'\r\nimport CategoriesConfig from '../CategoriesConfig/CategoriesConfig'\r\nimport Task from '../Task/Task'\r\nimport useValue from '../../../../../hooks/useValue'\r\nimport { Context } from '../../../../../context'\r\n\r\nconst CategoriesTab = props => {\r\n  const [modal, setModal] = useValue(false)\r\n\r\n  const {\r\n    darkMode,\r\n    tab,\r\n    setTab,\r\n    setCategory,\r\n    tabItems,\r\n    setTabItem,\r\n    editTask,\r\n    checkTask,\r\n    deleteTask,\r\n    setSortType,\r\n    timeLine,\r\n    userInfo,\r\n    calendarDate,\r\n  } = useContext(Context)\r\n\r\n  const removeCategory = () => {\r\n    const checkingTabs = tabItems.tasks[props.idx - 1] || tabItems.tasks[1]\r\n\r\n    setTab(tabItems.tasks.length > 1 && checkingTabs.title)\r\n    setCategory(tabItems.tasks.length > 1 && checkingTabs.title)\r\n\r\n    setTabItem({\r\n      ...tabItems,\r\n      tasks: tabItems.tasks.filter(e => e.title !== props.category.title),\r\n    })\r\n\r\n    return database.writeUserTasksData(\r\n      userInfo.uid,\r\n      calendarDate.toLocaleDateString().split('.').join(''),\r\n      {\r\n        ...tabItems,\r\n        tasks: tabItems.tasks.filter(e => e.title !== props.category.title),\r\n      },\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        tab === props.category.title\r\n          ? 'category__container active'\r\n          : 'category__container'\r\n      }>\r\n      <div className='category__title'>{props.category.title}</div>\r\n      <div className='category__activeTasks'>\r\n        <MyTitle fontSize='18px' lineHeight='25px' letterSpacing='0.02em'>\r\n          Active tasks\r\n        </MyTitle>\r\n        <TransitionGroup\r\n          className={darkMode ? 'activeTasksContainer darkMode' : 'activeTasksContainer'}>\r\n          {props.category.data\r\n            .filter(task => !task.completed)\r\n            .map(uncompletedTask => {\r\n              const nodeRef = createRef(null)\r\n              return (\r\n                <CSSTransition\r\n                  key={uncompletedTask.time}\r\n                  nodeRef={nodeRef}\r\n                  timeout={500}\r\n                  classNames='task'>\r\n                  <Task\r\n                    time={uncompletedTask.time}\r\n                    currentTask={uncompletedTask}\r\n                    tabTitle={props.category.title}\r\n                    deleteTask={deleteTask}\r\n                    completed={uncompletedTask.completed}\r\n                    checkTask={checkTask}\r\n                    editTask={editTask}\r\n                    timeLine={timeLine}\r\n                    ref={nodeRef}>\r\n                    {uncompletedTask.task}\r\n                  </Task>\r\n                </CSSTransition>\r\n              )\r\n            })}\r\n        </TransitionGroup>\r\n      </div>\r\n      {!timeLine.future && (\r\n        <div className='category__completedTasks'>\r\n          <MyTitle fontSize='18px' lineHeight='25px' letterSpacing='0.02em'>\r\n            Completed tasks\r\n          </MyTitle>\r\n          <TransitionGroup\r\n            className={\r\n              darkMode ? 'completedTasksContainer darkMode' : 'completedTasksContainer'\r\n            }>\r\n            {props.category.data\r\n              .filter(task => task.completed)\r\n              .map(completedTask => {\r\n                const nodeRef = createRef(null)\r\n                return (\r\n                  <CSSTransition\r\n                    key={completedTask.time}\r\n                    nodeRef={nodeRef}\r\n                    timeout={500}\r\n                    classNames='task'>\r\n                    <Task\r\n                      time={completedTask.time}\r\n                      currentTask={completedTask}\r\n                      tabTitle={props.category.title}\r\n                      deleteTask={deleteTask}\r\n                      completed={completedTask.completed}\r\n                      checkTask={checkTask}\r\n                      timeLine={timeLine}\r\n                      ref={nodeRef}>\r\n                      {completedTask.task}\r\n                    </Task>\r\n                  </CSSTransition>\r\n                )\r\n              })}\r\n          </TransitionGroup>\r\n        </div>\r\n      )}\r\n\r\n      <button\r\n        type='button'\r\n        className='category__configBtn'\r\n        title='configuration'\r\n        onClick={() => setModal(!modal)}>\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n      </button>\r\n      <CategoriesConfig\r\n        modal={modal}\r\n        timeLine={timeLine}\r\n        category={props.category}\r\n        setSortType={setSortType}\r\n        removeCategory={removeCategory}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CategoriesTab\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}