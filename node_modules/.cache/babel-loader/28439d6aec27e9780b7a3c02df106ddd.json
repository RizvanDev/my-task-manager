{"ast":null,"code":"import _objectSpread from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext}from'react';import{Context}from'../../../../../context';import{database}from'../../../../../firebase/firebaseConfig';import useValue from'../../../../../hooks/useValue';import CategoryHeader from'./CategoryHeader';import TasksContainer from'./TasksContainer';import CategoriesConfig from'../CategoriesConfig/CategoriesConfig';import DeleteModal from'../../../modalWindows/DeleteModal/DeleteModal';import'./categoriesTab.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CategoriesTab=function CategoriesTab(_ref){var category=_ref.category,idx=_ref.idx;var _useValue=useValue(false),_useValue2=_slicedToArray(_useValue,2),categoryConfigModal=_useValue2[0],setCategoryConfigModal=_useValue2[1];var _useContext=useContext(Context),darkMode=_useContext.darkMode,tab=_useContext.tab,setTab=_useContext.setTab,setCategory=_useContext.setCategory,tabItems=_useContext.tabItems,setTabItems=_useContext.setTabItems,timeLine=_useContext.timeLine,userInfo=_useContext.userInfo,calendarDate=_useContext.calendarDate,modals=_useContext.modals,openModals=_useContext.openModals,tasksMethods=_useContext.tasksMethods;var removeCategory=function removeCategory(){var newTabItems=_objectSpread(_objectSpread({},tabItems),{},{tasks:tabItems.tasks.filter(function(task){return task.title!==category.title;})});var tab=tabItems.tasks.length>1&&(tabItems.tasks[idx-1]||tabItems.tasks[1]);setTab(tab.title);setCategory(tab.title);setTabItems(newTabItems);return database.writeUserTasksData(userInfo.uid,calendarDate.toLocaleDateString().split('.').join(''),newTabItems);};var handleDeleteCategory=function handleDeleteCategory(){return openModals(_objectSpread(_objectSpread({},modals),{},{deleteCategoryModal:true}));};var tasksContainerProps={darkMode:darkMode,tabTitle:category.title,tasksData:category.data,tasksMethods:tasksMethods,timeLine:timeLine};var categoryContainerClassNames=tab===category.title?'category__container active':'category__container';return/*#__PURE__*/_jsxs(\"div\",{className:categoryContainerClassNames,children:[/*#__PURE__*/_jsx(CategoryHeader,{categoryTitle:category.title,categoryConfigModal:categoryConfigModal,setCategoryConfigModal:setCategoryConfigModal}),/*#__PURE__*/_jsx(CategoriesConfig,{categoryConfigModal:categoryConfigModal,timeLine:timeLine,category:category,setSortType:tasksMethods.setSortType,handleDeleteCategory:handleDeleteCategory,darkMode:darkMode}),/*#__PURE__*/_jsx(TasksContainer,_objectSpread({type:\"Active\"},tasksContainerProps)),/*#__PURE__*/_jsx(TasksContainer,_objectSpread({type:\"Completed\"},tasksContainerProps)),/*#__PURE__*/_jsx(DeleteModal,{removeCategory:removeCategory})]});};export default CategoriesTab;","map":{"version":3,"names":["useContext","Context","database","useValue","CategoryHeader","TasksContainer","CategoriesConfig","DeleteModal","CategoriesTab","category","idx","categoryConfigModal","setCategoryConfigModal","darkMode","tab","setTab","setCategory","tabItems","setTabItems","timeLine","userInfo","calendarDate","modals","openModals","tasksMethods","removeCategory","newTabItems","tasks","filter","task","title","length","writeUserTasksData","uid","toLocaleDateString","split","join","handleDeleteCategory","deleteCategoryModal","tasksContainerProps","tabTitle","tasksData","data","categoryContainerClassNames","setSortType"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/Pages/main-page/MainContent/Tasks/CategoriesTab/CategoriesTab.jsx"],"sourcesContent":["import { useContext } from 'react'\r\nimport { Context } from '../../../../../context'\r\nimport { database } from '../../../../../firebase/firebaseConfig'\r\nimport useValue from '../../../../../hooks/useValue'\r\nimport CategoryHeader from './CategoryHeader'\r\nimport TasksContainer from './TasksContainer'\r\nimport CategoriesConfig from '../CategoriesConfig/CategoriesConfig'\r\nimport DeleteModal from '../../../modalWindows/DeleteModal/DeleteModal'\r\nimport './categoriesTab.scss'\r\n\r\nconst CategoriesTab = ({ category, idx }) => {\r\n  const [categoryConfigModal, setCategoryConfigModal] = useValue(false)\r\n\r\n  const {\r\n    darkMode,\r\n    tab,\r\n    setTab,\r\n    setCategory,\r\n    tabItems,\r\n    setTabItems,\r\n    timeLine,\r\n    userInfo,\r\n    calendarDate,\r\n    modals,\r\n    openModals,\r\n    tasksMethods,\r\n  } = useContext(Context)\r\n\r\n  const removeCategory = () => {\r\n    const newTabItems = {\r\n      ...tabItems,\r\n      tasks: tabItems.tasks.filter(task => task.title !== category.title),\r\n    }\r\n\r\n    const tab = tabItems.tasks.length > 1 && (tabItems.tasks[idx - 1] || tabItems.tasks[1])\r\n\r\n    setTab(tab.title)\r\n    setCategory(tab.title)\r\n\r\n    setTabItems(newTabItems)\r\n\r\n    return database.writeUserTasksData(\r\n      userInfo.uid,\r\n      calendarDate.toLocaleDateString().split('.').join(''),\r\n      newTabItems,\r\n    )\r\n  }\r\n\r\n  const handleDeleteCategory = () => openModals({ ...modals, deleteCategoryModal: true })\r\n\r\n  const tasksContainerProps = {\r\n    darkMode,\r\n    tabTitle: category.title,\r\n    tasksData: category.data,\r\n    tasksMethods,\r\n    timeLine,\r\n  }\r\n\r\n  const categoryContainerClassNames =\r\n    tab === category.title ? 'category__container active' : 'category__container'\r\n\r\n  return (\r\n    <div className={categoryContainerClassNames}>\r\n      <CategoryHeader\r\n        categoryTitle={category.title}\r\n        categoryConfigModal={categoryConfigModal}\r\n        setCategoryConfigModal={setCategoryConfigModal}\r\n      />\r\n\r\n      <CategoriesConfig\r\n        categoryConfigModal={categoryConfigModal}\r\n        timeLine={timeLine}\r\n        category={category}\r\n        setSortType={tasksMethods.setSortType}\r\n        handleDeleteCategory={handleDeleteCategory}\r\n        darkMode={darkMode}\r\n      />\r\n\r\n      <TasksContainer type='Active' {...tasksContainerProps} />\r\n      <TasksContainer type='Completed' {...tasksContainerProps} />\r\n\r\n      <DeleteModal removeCategory={removeCategory} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CategoriesTab\r\n"],"mappings":"+QAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,OAAT,KAAwB,wBAAxB,CACA,OAASC,QAAT,KAAyB,wCAAzB,CACA,MAAOC,SAAP,KAAqB,+BAArB,CACA,MAAOC,eAAP,KAA2B,kBAA3B,CACA,MAAOC,eAAP,KAA2B,kBAA3B,CACA,MAAOC,iBAAP,KAA6B,sCAA7B,CACA,MAAOC,YAAP,KAAwB,+CAAxB,CACA,MAAO,sBAAP,C,wFAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,MAAuB,IAApBC,SAAoB,MAApBA,QAAoB,CAAVC,GAAU,MAAVA,GAAU,CAC3C,cAAsDP,QAAQ,CAAC,KAAD,CAA9D,wCAAOQ,mBAAP,eAA4BC,sBAA5B,eAEA,gBAaIZ,UAAU,CAACC,OAAD,CAbd,CACEY,QADF,aACEA,QADF,CAEEC,GAFF,aAEEA,GAFF,CAGEC,MAHF,aAGEA,MAHF,CAIEC,WAJF,aAIEA,WAJF,CAKEC,QALF,aAKEA,QALF,CAMEC,WANF,aAMEA,WANF,CAOEC,QAPF,aAOEA,QAPF,CAQEC,QARF,aAQEA,QARF,CASEC,YATF,aASEA,YATF,CAUEC,MAVF,aAUEA,MAVF,CAWEC,UAXF,aAWEA,UAXF,CAYEC,YAZF,aAYEA,YAZF,CAeA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,EAAM,CAC3B,GAAMC,YAAW,gCACZT,QADY,MAEfU,KAAK,CAAEV,QAAQ,CAACU,KAAT,CAAeC,MAAf,CAAsB,SAAAC,IAAI,QAAIA,KAAI,CAACC,KAAL,GAAerB,QAAQ,CAACqB,KAA5B,EAA1B,CAFQ,EAAjB,CAKA,GAAMhB,IAAG,CAAGG,QAAQ,CAACU,KAAT,CAAeI,MAAf,CAAwB,CAAxB,GAA8Bd,QAAQ,CAACU,KAAT,CAAejB,GAAG,CAAG,CAArB,GAA2BO,QAAQ,CAACU,KAAT,CAAe,CAAf,CAAzD,CAAZ,CAEAZ,MAAM,CAACD,GAAG,CAACgB,KAAL,CAAN,CACAd,WAAW,CAACF,GAAG,CAACgB,KAAL,CAAX,CAEAZ,WAAW,CAACQ,WAAD,CAAX,CAEA,MAAOxB,SAAQ,CAAC8B,kBAAT,CACLZ,QAAQ,CAACa,GADJ,CAELZ,YAAY,CAACa,kBAAb,GAAkCC,KAAlC,CAAwC,GAAxC,EAA6CC,IAA7C,CAAkD,EAAlD,CAFK,CAGLV,WAHK,CAAP,CAKD,CAlBD,CAoBA,GAAMW,qBAAoB,CAAG,QAAvBA,qBAAuB,SAAMd,WAAU,gCAAMD,MAAN,MAAcgB,mBAAmB,CAAE,IAAnC,GAAhB,EAA7B,CAEA,GAAMC,oBAAmB,CAAG,CAC1B1B,QAAQ,CAARA,QAD0B,CAE1B2B,QAAQ,CAAE/B,QAAQ,CAACqB,KAFO,CAG1BW,SAAS,CAAEhC,QAAQ,CAACiC,IAHM,CAI1BlB,YAAY,CAAZA,YAJ0B,CAK1BL,QAAQ,CAARA,QAL0B,CAA5B,CAQA,GAAMwB,4BAA2B,CAC/B7B,GAAG,GAAKL,QAAQ,CAACqB,KAAjB,CAAyB,4BAAzB,CAAwD,qBAD1D,CAGA,mBACE,aAAK,SAAS,CAAEa,2BAAhB,wBACE,KAAC,cAAD,EACE,aAAa,CAAElC,QAAQ,CAACqB,KAD1B,CAEE,mBAAmB,CAAEnB,mBAFvB,CAGE,sBAAsB,CAAEC,sBAH1B,EADF,cAOE,KAAC,gBAAD,EACE,mBAAmB,CAAED,mBADvB,CAEE,QAAQ,CAAEQ,QAFZ,CAGE,QAAQ,CAAEV,QAHZ,CAIE,WAAW,CAAEe,YAAY,CAACoB,WAJ5B,CAKE,oBAAoB,CAAEP,oBALxB,CAME,QAAQ,CAAExB,QANZ,EAPF,cAgBE,KAAC,cAAD,gBAAgB,IAAI,CAAC,QAArB,EAAkC0B,mBAAlC,EAhBF,cAiBE,KAAC,cAAD,gBAAgB,IAAI,CAAC,WAArB,EAAqCA,mBAArC,EAjBF,cAmBE,KAAC,WAAD,EAAa,cAAc,CAAEd,cAA7B,EAnBF,GADF,CAuBD,CA1ED,CA4EA,cAAejB,cAAf"},"metadata":{},"sourceType":"module"}