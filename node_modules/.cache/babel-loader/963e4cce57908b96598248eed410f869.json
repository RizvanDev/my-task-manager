{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{initializeApp}from'firebase/app';import{getAuth,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut}from'firebase/auth';import{getDatabase,ref,set,get}from'firebase/database';var firebaseConfig=_defineProperty({apiKey:process.env.REACT_APP_FIREBASE_API_KEY,authDomain:process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:process.env.REACT_APP_FIREBASE_DATABASE_URL,projectId:process.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.REACT_APP_FIREBASE_APP_ID},\"databaseURL\",process.env.REACT_APP_FIREBASE_DATABASE_URL);var app=initializeApp(firebaseConfig);var auth=getAuth(app);var db=getDatabase(app);var addEmptyArrays=function addEmptyArrays(data){return Array.isArray(data)?data.map(function(obj){return obj.hasOwnProperty('data')?obj:_objectSpread(_objectSpread({},obj),{},{data:[]});}):data;};// database\nvar database={// send user information (email,avatar,nickname,id)\nwriteUserInfoData:function writeUserInfoData(userInfo){var reference=ref(db,\"users/\".concat(userInfo.uid,\"/user_info\"));var data={uid:userInfo.uid,username:userInfo.nick,email:userInfo.email,avatar:userInfo.photo};return userInfo.uid&&set(reference,data);},// send user tasks Data\nwriteUserTasksData:function writeUserTasksData(userId,date,tabItems){var reference=ref(db,\"users/\".concat(userId,\"/user_tasks/\").concat(date));return userId&&set(reference,_objectSpread({},tabItems.tasks));},// create/read new day\nwriteNewDayData:function writeNewDayData(userId,date,setTabItem,setCategory,setTab){var distanceRef=ref(db,\"users/\".concat(userId,\"/user_tasks/\").concat(date));return get(distanceRef).then(function(snapshot){if(snapshot.exists()){var tasks=snapshot.val();setCategory(tasks[0].title);setTab(tasks[0].title);setTabItem({date:new Date().toLocaleDateString().split('.').reverse().join(''),tasks:_toConsumableArray(addEmptyArrays(tasks))});}else{setTabItem({date:new Date().toLocaleDateString().split('.').reverse().join(''),tasks:[]});}});},// create Data for new user\ncreateUserData:function createUserData(userId,userInfo,tabItems){var reference=ref(db,\"users/\".concat(userId));var day=new Date().toLocaleDateString().split('.').join('');var data={user_info:{uid:userInfo.uid,username:userInfo.nick,email:userInfo.email,avatar:userInfo.photo},user_tasks:_defineProperty({},day,tabItems.tasks)};return userId&&set(reference,data);},// reade user Data\nreadUserData:function readUserData(userId,setUserInfo,tabItems,setTabItem,setTab,setCategory){var distanceRef=ref(db,\"users/\".concat(userId,\"/\"));var date=new Date().toLocaleDateString().split('.').join('');return get(distanceRef).then(function(snapshot){if(snapshot.exists()){var data=snapshot.val();setUserInfo({photo:data.user_info.avatar,nick:data.user_info.username,email:data.user_info.email,uid:data.user_info.uid});var condition=data.user_tasks&&data.user_tasks[date];setTabItem(_objectSpread(_objectSpread({},tabItems),{},{tasks:_toConsumableArray(addEmptyArrays(condition?data.user_tasks[date]:[]))}));setCategory(condition?data.user_tasks[date][0].title:'');setTab(condition?data.user_tasks[date][0].title:'');}});},// reading the data of the selected day\nreadPastData:function readPastData(_ref){var params=Object.assign({},_ref);var date=params.date.toLocaleDateString().split('.').join('');var distanceRef=ref(db,\"users/\".concat(params.userInfo.uid,\"/user_tasks/\").concat(date));return get(distanceRef).then(function(snapshot){if(snapshot.exists()){var tasks=snapshot.val();params.setCalendarDate(params.date);setTimeout(function(){params.setTabItem(_objectSpread(_objectSpread({},params.tabItems),{},{tasks:_toConsumableArray(addEmptyArrays(tasks))}));params.setCategory(tasks[0].title);params.setTab(tasks[0].title);params.openModals(_objectSpread(_objectSpread({},params.modals),{},{calendarModal:false}));},500);return;}return params.createAuthInfoModal({show:true,type:'Error',text:\"You don't have any tasks for this day\"});});},// Statistics\ncreateStatistics:function createStatistics(userId,period,setStatistics){var distanceRef=ref(db,\"users/\".concat(userId,\"/user_tasks/\"));var date=new Date().toLocaleDateString().split('.').join('');var categories=0;var createdTasks=0;var completedTasks=0;var calculateTasks=function calculateTasks(data){return data.forEach(function(category){if(category.hasOwnProperty('data')){createdTasks+=category.data.length;category.data.forEach(function(task){return task.completed&&completedTasks++;});}});};var periods={Day:function Day(){var distanceRefDay=ref(db,\"users/\".concat(userId,\"/user_tasks/\").concat(date));return get(distanceRefDay).then(function(snapshot){if(snapshot.exists()){var data=snapshot.val();categories+=data.length;calculateTasks(data);setStatistics({Categories:categories,Created:createdTasks,Completed:completedTasks});}else{setStatistics({Categories:'--',Created:'--',Completed:'--'});}});},Month:function Month(){var currentMonth=date.split('').splice(2,2).join('');return get(distanceRef).then(function(snapshot){if(snapshot.exists()){var data=snapshot.val();for(var day in data){var condition=day.split('').splice(2,2).join('')===currentMonth;if(condition){categories+=data[day].length;calculateTasks(data[day]);}}setStatistics({Categories:categories,Created:createdTasks,Completed:completedTasks});}});},Year:function Year(){var currentYear=date.split('').splice(4).join('');return get(distanceRef).then(function(snapshot){if(snapshot.exists()){var data=snapshot.val();for(var day in data){var condition=day.split('').splice(4).join('')===currentYear;if(condition){categories+=data[day].length;calculateTasks(data[day]);}}setStatistics({Categories:categories,Created:createdTasks,Completed:completedTasks});}});}};return periods[period]();}};// Authentication methods\nvar authentication={// Login\nloginEmailPassword:function(){var _loginEmailPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref2){var params,userCredential;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=Object.assign({},_ref2);if(!params.login.Password){_context.next=12;break;}_context.prev=2;_context.next=5;return signInWithEmailAndPassword(auth,params.login.Email,params.login.Password);case 5:userCredential=_context.sent;if(userCredential){params.setAuthorization(true);params.setLogin({Email:'',Password:''});params.createAuthInfoModal({show:true,type:'Success',text:'Authorization successfully'});params.setUserInfo(_objectSpread(_objectSpread({},params.userInfo),{},{uid:userCredential.user.uid}));database.readUserData(userCredential.user.uid,params.setUserInfo,params.tabItems,params.setTabItem,params.setTab,params.setCategory);setTimeout(function(){params.openModals(_objectSpread(_objectSpread({},params.modals),{},{authModal:false}));},1500);}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);params.createAuthInfoModal({show:true,type:'Error',text:_context.t0.code});case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));function loginEmailPassword(_x){return _loginEmailPassword.apply(this,arguments);}return loginEmailPassword;}(),// Registration\nregistrationEmailPassword:function(){var _registrationEmailPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref3){var params,userCredential;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:params=Object.assign({},_ref3);if(!params.registration.Password){_context2.next=13;break;}_context2.prev=2;_context2.next=5;return createUserWithEmailAndPassword(auth,params.registration.Email,params.registration.Password);case 5:userCredential=_context2.sent;if(userCredential){params.setAuthorization(true);params.setRegistration({Email:'',Password:''});params.createAuthInfoModal({modal:true,type:'Success',text:'Registration successfully'});params.setUserInfo(_objectSpread(_objectSpread({},params.userInfo),{},{email:userCredential.user.email,uid:userCredential.user.uid}));database.createUserData(userCredential.user.uid,params.userInfo,params.tabItems);setTimeout(function(){params.openModals(_objectSpread(_objectSpread({},params.modals),{},{authModal:false}));params.navigate('Profile.jsx');},1000);}_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](2);console.log(_context2.t0);params.createAuthInfoModal({modal:true,type:'Error',text:_context2.t0.code});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[2,9]]);}));function registrationEmailPassword(_x2){return _registrationEmailPassword.apply(this,arguments);}return registrationEmailPassword;}(),// Logout\nlogOut:function logOut(_ref4){var params=Object.assign({},_ref4);return signOut(auth).then(function(){params.setAuthorization(false);params.setUserInfo({photo:params.defaultPhoto,nick:'username',email:'',uid:''});params.setCalendarDate(new Date());params.setTimeLine({past:false,future:false});params.setTabItem(_objectSpread(_objectSpread({},params.tabItems),{},{tasks:[]}));});}};export{authentication,database};","map":{"version":3,"names":["initializeApp","getAuth","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","getDatabase","ref","set","get","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","databaseURL","REACT_APP_FIREBASE_DATABASE_URL","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","auth","db","addEmptyArrays","data","Array","isArray","map","obj","hasOwnProperty","database","writeUserInfoData","userInfo","reference","uid","username","nick","email","avatar","photo","writeUserTasksData","userId","date","tabItems","tasks","writeNewDayData","setTabItem","setCategory","setTab","distanceRef","then","snapshot","exists","val","title","Date","toLocaleDateString","split","reverse","join","createUserData","day","user_info","user_tasks","readUserData","setUserInfo","condition","readPastData","params","setCalendarDate","setTimeout","openModals","modals","calendarModal","createAuthInfoModal","show","type","text","createStatistics","period","setStatistics","categories","createdTasks","completedTasks","calculateTasks","forEach","category","length","task","completed","periods","Day","distanceRefDay","Categories","Created","Completed","Month","currentMonth","splice","Year","currentYear","authentication","loginEmailPassword","login","Password","Email","userCredential","setAuthorization","setLogin","user","authModal","code","registrationEmailPassword","registration","setRegistration","modal","navigate","console","log","logOut","defaultPhoto","setTimeLine","past","future"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/firebase/firebaseConfig.js"],"sourcesContent":["import { initializeApp } from 'firebase/app'\r\n\r\nimport {\r\n  getAuth,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  signOut,\r\n} from 'firebase/auth'\r\nimport { getDatabase, ref, set, get } from 'firebase/database'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n}\r\n\r\nconst app = initializeApp(firebaseConfig)\r\nconst auth = getAuth(app)\r\nconst db = getDatabase(app)\r\n\r\nconst addEmptyArrays = data => {\r\n  return Array.isArray(data)\r\n    ? data.map(obj => (obj.hasOwnProperty('data') ? obj : { ...obj, data: [] }))\r\n    : data\r\n}\r\n\r\n// database\r\nconst database = {\r\n  // send user information (email,avatar,nickname,id)\r\n  writeUserInfoData: userInfo => {\r\n    const reference = ref(db, `users/${userInfo.uid}/user_info`)\r\n\r\n    const data = {\r\n      uid: userInfo.uid,\r\n      username: userInfo.nick,\r\n      email: userInfo.email,\r\n      avatar: userInfo.photo,\r\n    }\r\n\r\n    return userInfo.uid && set(reference, data)\r\n  },\r\n  // send user tasks Data\r\n  writeUserTasksData: (userId, date, tabItems) => {\r\n    const reference = ref(db, `users/${userId}/user_tasks/${date}`)\r\n\r\n    return userId && set(reference, { ...tabItems.tasks })\r\n  },\r\n  // create/read new day\r\n  writeNewDayData: (userId, date, setTabItem, setCategory, setTab) => {\r\n    const distanceRef = ref(db, `users/${userId}/user_tasks/${date}`)\r\n\r\n    return get(distanceRef).then(snapshot => {\r\n      if (snapshot.exists()) {\r\n        const tasks = snapshot.val()\r\n\r\n        setCategory(tasks[0].title)\r\n        setTab(tasks[0].title)\r\n        setTabItem({\r\n          date: new Date().toLocaleDateString().split('.').reverse().join(''),\r\n          tasks: [...addEmptyArrays(tasks)],\r\n        })\r\n      } else {\r\n        setTabItem({\r\n          date: new Date().toLocaleDateString().split('.').reverse().join(''),\r\n          tasks: [],\r\n        })\r\n      }\r\n    })\r\n  },\r\n  // create Data for new user\r\n  createUserData: (userId, userInfo, tabItems) => {\r\n    const reference = ref(db, `users/${userId}`)\r\n    const day = new Date().toLocaleDateString().split('.').join('')\r\n\r\n    const data = {\r\n      user_info: {\r\n        uid: userInfo.uid,\r\n        username: userInfo.nick,\r\n        email: userInfo.email,\r\n        avatar: userInfo.photo,\r\n      },\r\n      user_tasks: { [day]: tabItems.tasks },\r\n    }\r\n\r\n    return userId && set(reference, data)\r\n  },\r\n  // reade user Data\r\n  readUserData: (userId, setUserInfo, tabItems, setTabItem, setTab, setCategory) => {\r\n    const distanceRef = ref(db, `users/${userId}/`)\r\n    const date = new Date().toLocaleDateString().split('.').join('')\r\n\r\n    return get(distanceRef).then(snapshot => {\r\n      if (snapshot.exists()) {\r\n        const data = snapshot.val()\r\n\r\n        setUserInfo({\r\n          photo: data.user_info.avatar,\r\n          nick: data.user_info.username,\r\n          email: data.user_info.email,\r\n          uid: data.user_info.uid,\r\n        })\r\n\r\n        const condition = data.user_tasks && data.user_tasks[date]\r\n\r\n        setTabItem({\r\n          ...tabItems,\r\n          tasks: [...addEmptyArrays(condition ? data.user_tasks[date] : [])],\r\n        })\r\n        setCategory(condition ? data.user_tasks[date][0].title : '')\r\n        setTab(condition ? data.user_tasks[date][0].title : '')\r\n      }\r\n    })\r\n  },\r\n  // reading the data of the selected day\r\n  readPastData: ({ ...params }) => {\r\n    const date = params.date.toLocaleDateString().split('.').join('')\r\n    const distanceRef = ref(db, `users/${params.userInfo.uid}/user_tasks/${date}`)\r\n\r\n    return get(distanceRef).then(snapshot => {\r\n      if (snapshot.exists()) {\r\n        const tasks = snapshot.val()\r\n        params.setCalendarDate(params.date)\r\n        setTimeout(() => {\r\n          params.setTabItem({ ...params.tabItems, tasks: [...addEmptyArrays(tasks)] })\r\n          params.setCategory(tasks[0].title)\r\n          params.setTab(tasks[0].title)\r\n          params.openModals({ ...params.modals, calendarModal: false })\r\n        }, 500)\r\n        return\r\n      }\r\n\r\n      return params.createAuthInfoModal({\r\n        show: true,\r\n        type: 'Error',\r\n        text: `You don't have any tasks for this day`,\r\n      })\r\n    })\r\n  },\r\n  // Statistics\r\n  createStatistics: (userId, period, setStatistics) => {\r\n    const distanceRef = ref(db, `users/${userId}/user_tasks/`)\r\n    const date = new Date().toLocaleDateString().split('.').join('')\r\n\r\n    let categories = 0\r\n    let createdTasks = 0\r\n    let completedTasks = 0\r\n\r\n    const calculateTasks = data => {\r\n      return data.forEach(category => {\r\n        if (category.hasOwnProperty('data')) {\r\n          createdTasks += category.data.length\r\n\r\n          category.data.forEach(task => task.completed && completedTasks++)\r\n        }\r\n      })\r\n    }\r\n\r\n    const periods = {\r\n      Day: () => {\r\n        const distanceRefDay = ref(db, `users/${userId}/user_tasks/${date}`)\r\n\r\n        return get(distanceRefDay).then(snapshot => {\r\n          if (snapshot.exists()) {\r\n            const data = snapshot.val()\r\n\r\n            categories += data.length\r\n\r\n            calculateTasks(data)\r\n\r\n            setStatistics({\r\n              Categories: categories,\r\n              Created: createdTasks,\r\n              Completed: completedTasks,\r\n            })\r\n          } else {\r\n            setStatistics({\r\n              Categories: '--',\r\n              Created: '--',\r\n              Completed: '--',\r\n            })\r\n          }\r\n        })\r\n      },\r\n      Month: () => {\r\n        const currentMonth = date.split('').splice(2, 2).join('')\r\n\r\n        return get(distanceRef).then(snapshot => {\r\n          if (snapshot.exists()) {\r\n            const data = snapshot.val()\r\n\r\n            for (const day in data) {\r\n              const condition = day.split('').splice(2, 2).join('') === currentMonth\r\n\r\n              if (condition) {\r\n                categories += data[day].length\r\n                calculateTasks(data[day])\r\n              }\r\n            }\r\n\r\n            setStatistics({\r\n              Categories: categories,\r\n              Created: createdTasks,\r\n              Completed: completedTasks,\r\n            })\r\n          }\r\n        })\r\n      },\r\n      Year: () => {\r\n        const currentYear = date.split('').splice(4).join('')\r\n\r\n        return get(distanceRef).then(snapshot => {\r\n          if (snapshot.exists()) {\r\n            const data = snapshot.val()\r\n\r\n            for (const day in data) {\r\n              const condition = day.split('').splice(4).join('') === currentYear\r\n\r\n              if (condition) {\r\n                categories += data[day].length\r\n                calculateTasks(data[day])\r\n              }\r\n            }\r\n\r\n            setStatistics({\r\n              Categories: categories,\r\n              Created: createdTasks,\r\n              Completed: completedTasks,\r\n            })\r\n          }\r\n        })\r\n      },\r\n    }\r\n\r\n    return periods[period]()\r\n  },\r\n}\r\n\r\n// Authentication methods\r\nconst authentication = {\r\n  // Login\r\n  loginEmailPassword: async ({ ...params }) => {\r\n    if (params.login.Password) {\r\n      try {\r\n        const userCredential = await signInWithEmailAndPassword(\r\n          auth,\r\n          params.login.Email,\r\n          params.login.Password,\r\n        )\r\n\r\n        if (userCredential) {\r\n          params.setAuthorization(true)\r\n          params.setLogin({ Email: '', Password: '' })\r\n          params.createAuthInfoModal({\r\n            show: true,\r\n            type: 'Success',\r\n            text: 'Authorization successfully',\r\n          })\r\n\r\n          params.setUserInfo({\r\n            ...params.userInfo,\r\n            uid: userCredential.user.uid,\r\n          })\r\n\r\n          database.readUserData(\r\n            userCredential.user.uid,\r\n            params.setUserInfo,\r\n            params.tabItems,\r\n            params.setTabItem,\r\n            params.setTab,\r\n            params.setCategory,\r\n          )\r\n\r\n          setTimeout(() => {\r\n            params.openModals({ ...params.modals, authModal: false })\r\n          }, 1500)\r\n        }\r\n      } catch (Error) {\r\n        params.createAuthInfoModal({ show: true, type: 'Error', text: Error.code })\r\n      }\r\n    }\r\n  },\r\n  // Registration\r\n  registrationEmailPassword: async ({ ...params }) => {\r\n    if (params.registration.Password) {\r\n      try {\r\n        const userCredential = await createUserWithEmailAndPassword(\r\n          auth,\r\n          params.registration.Email,\r\n          params.registration.Password,\r\n        )\r\n\r\n        if (userCredential) {\r\n          params.setAuthorization(true)\r\n          params.setRegistration({ Email: '', Password: '' })\r\n          params.createAuthInfoModal({\r\n            modal: true,\r\n            type: 'Success',\r\n            text: 'Registration successfully',\r\n          })\r\n\r\n          params.setUserInfo({\r\n            ...params.userInfo,\r\n            email: userCredential.user.email,\r\n            uid: userCredential.user.uid,\r\n          })\r\n\r\n          database.createUserData(\r\n            userCredential.user.uid,\r\n            params.userInfo,\r\n            params.tabItems,\r\n          )\r\n\r\n          setTimeout(() => {\r\n            params.openModals({ ...params.modals, authModal: false })\r\n            params.navigate('Profile.jsx')\r\n          }, 1000)\r\n        }\r\n      } catch (Error) {\r\n        console.log(Error)\r\n        params.createAuthInfoModal({ modal: true, type: 'Error', text: Error.code })\r\n      }\r\n    }\r\n  },\r\n  // Logout\r\n  logOut: ({ ...params }) => {\r\n    return signOut(auth).then(() => {\r\n      params.setAuthorization(false)\r\n      params.setUserInfo({\r\n        photo: params.defaultPhoto,\r\n        nick: 'username',\r\n        email: '',\r\n        uid: '',\r\n      })\r\n      params.setCalendarDate(new Date())\r\n      params.setTimeLine({ past: false, future: false })\r\n      params.setTabItem({ ...params.tabItems, tasks: [] })\r\n    })\r\n  },\r\n}\r\n\r\nexport { authentication, database }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}