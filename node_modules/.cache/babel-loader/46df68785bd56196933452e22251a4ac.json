{"ast":null,"code":"import _objectSpread from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useContext}from'react';import{Context}from'../../context';import{database}from'../../firebase/firebaseConfig';import{useNavigate}from'react-router-dom';import Input from'../../Components/UI/Input/Input';import MainBtn from'../../Components/UI/MainBtn/MainBtn';import'./profile.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(_ref){var darkMode=_ref.darkMode;var _useContext=useContext(Context),userInfo=_useContext.userInfo,setUserInfo=_useContext.setUserInfo,userId=_useContext.userId,tabItems=_useContext.tabItems;var navigate=useNavigate();var styleObj={avatarInput:{width:0,height:0,fontSize:0},input:{width:'540px',padding:'10px',background:'f9f9f9',fontSize:'20px',border:'1px solid grey'},btnStyles:{marginTop:'20px',padding:'10px 25px',borderRadius:'8px',backgroundColor:'#29a19c',fontSize:'18px',color:'#fafafa'}};var chooseFile=function chooseFile(e){var reader=new FileReader();var file=e.target.files[0];reader.onload=function(){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{photo:reader.result}));};reader.readAsDataURL(file);};var sendUserInfo=function sendUserInfo(){navigate('/');database.writeUserData(userId,userInfo,tabItems);};return/*#__PURE__*/_jsx(\"div\",{className:darkMode?'profile darkMode':'profile',children:/*#__PURE__*/_jsx(\"div\",{className:\"profile__container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"profile__form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar-img \",src:userInfo.photo,alt:\"avatar\"}),/*#__PURE__*/_jsx(Input,{type:\"file\",id:\"avatar\",style:styleObj.avatarInput,onChange:chooseFile}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"avatar\",className:\"avatar__label\",children:\"edit the photo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__inputsContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__nickname\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nickname\",className:\"profile__label\",children:\"Your nickname\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"nickname\",style:styleObj.input,value:userInfo.nick,onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{nick:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__email\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"profile__label\",children:\"Your email\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",id:\"email\",style:styleObj.input,value:userInfo.email,onChange:function onChange(e){return setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{email:e.target.value}));},readOnly:true})]}),/*#__PURE__*/_jsx(MainBtn,{type:\"submit\",styles:styleObj.btnStyles,onClick:sendUserInfo,children:\"save changes\"})]})]})})});};export default Profile;","map":{"version":3,"names":["React","useContext","Context","database","useNavigate","Input","MainBtn","Profile","darkMode","userInfo","setUserInfo","userId","tabItems","navigate","styleObj","avatarInput","width","height","fontSize","input","padding","background","border","btnStyles","marginTop","borderRadius","backgroundColor","color","chooseFile","e","reader","FileReader","file","target","files","onload","photo","result","readAsDataURL","sendUserInfo","writeUserData","nick","value","email"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/Pages/profile-page/Profile.jsx"],"sourcesContent":["import React, { useContext } from 'react'\r\nimport { Context } from '../../context'\r\nimport { database } from '../../firebase/firebaseConfig'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport Input from '../../Components/UI/Input/Input'\r\nimport MainBtn from '../../Components/UI/MainBtn/MainBtn'\r\nimport './profile.scss'\r\n\r\nconst Profile = ({ darkMode }) => {\r\n  const { userInfo, setUserInfo, userId, tabItems } = useContext(Context)\r\n  const navigate = useNavigate()\r\n\r\n  const styleObj = {\r\n    avatarInput: {\r\n      width: 0,\r\n      height: 0,\r\n      fontSize: 0,\r\n    },\r\n    input: {\r\n      width: '540px',\r\n      padding: '10px',\r\n      background: 'f9f9f9',\r\n      fontSize: '20px',\r\n      border: '1px solid grey',\r\n    },\r\n    btnStyles: {\r\n      marginTop: '20px',\r\n      padding: '10px 25px',\r\n      borderRadius: '8px',\r\n      backgroundColor: '#29a19c',\r\n      fontSize: '18px',\r\n      color: '#fafafa',\r\n    },\r\n  }\r\n\r\n  const chooseFile = e => {\r\n    const reader = new FileReader()\r\n    const file = e.target.files[0]\r\n\r\n    reader.onload = () => setUserInfo({ ...userInfo, photo: reader.result })\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n  const sendUserInfo = () => {\r\n    navigate('/')\r\n    database.writeUserData(userId, userInfo, tabItems)\r\n  }\r\n\r\n  return (\r\n    <div className={darkMode ? 'profile darkMode' : 'profile'}>\r\n      <div className='profile__container'>\r\n        <form className='profile__form'>\r\n          <div className='profile__avatar'>\r\n            <img className='profile__avatar-img ' src={userInfo.photo} alt='avatar' />\r\n            <Input\r\n              type='file'\r\n              id='avatar'\r\n              style={styleObj.avatarInput}\r\n              onChange={chooseFile}\r\n            />\r\n            <label htmlFor='avatar' className='avatar__label'>\r\n              edit the photo\r\n            </label>\r\n          </div>\r\n\r\n          <div className='profile__inputsContainer'>\r\n            <div className='profile__nickname'>\r\n              <label htmlFor='nickname' className='profile__label'>\r\n                Your nickname\r\n              </label>\r\n              <Input\r\n                type='text'\r\n                id='nickname'\r\n                style={styleObj.input}\r\n                value={userInfo.nick}\r\n                onChange={e => setUserInfo({ ...userInfo, nick: e.target.value })}\r\n              />\r\n            </div>\r\n            <div className='profile__email'>\r\n              <label htmlFor='email' className='profile__label'>\r\n                Your email\r\n              </label>\r\n              <Input\r\n                type='email'\r\n                id='email'\r\n                style={styleObj.input}\r\n                value={userInfo.email}\r\n                onChange={e => setUserInfo({ ...userInfo, email: e.target.value })}\r\n                readOnly\r\n              />\r\n            </div>\r\n            <MainBtn type='submit' styles={styleObj.btnStyles} onClick={sendUserInfo}>\r\n              save changes\r\n            </MainBtn>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile\r\n"],"mappings":"uIAAA,MAAOA,MAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,OAAT,KAAwB,eAAxB,CACA,OAASC,QAAT,KAAyB,+BAAzB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,MAAP,KAAkB,iCAAlB,CACA,MAAOC,QAAP,KAAoB,qCAApB,CACA,MAAO,gBAAP,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAChC,gBAAoDP,UAAU,CAACC,OAAD,CAA9D,CAAQO,QAAR,aAAQA,QAAR,CAAkBC,WAAlB,aAAkBA,WAAlB,CAA+BC,MAA/B,aAA+BA,MAA/B,CAAuCC,QAAvC,aAAuCA,QAAvC,CACA,GAAMC,SAAQ,CAAGT,WAAW,EAA5B,CAEA,GAAMU,SAAQ,CAAG,CACfC,WAAW,CAAE,CACXC,KAAK,CAAE,CADI,CAEXC,MAAM,CAAE,CAFG,CAGXC,QAAQ,CAAE,CAHC,CADE,CAMfC,KAAK,CAAE,CACLH,KAAK,CAAE,OADF,CAELI,OAAO,CAAE,MAFJ,CAGLC,UAAU,CAAE,QAHP,CAILH,QAAQ,CAAE,MAJL,CAKLI,MAAM,CAAE,gBALH,CANQ,CAafC,SAAS,CAAE,CACTC,SAAS,CAAE,MADF,CAETJ,OAAO,CAAE,WAFA,CAGTK,YAAY,CAAE,KAHL,CAITC,eAAe,CAAE,SAJR,CAKTR,QAAQ,CAAE,MALD,CAMTS,KAAK,CAAE,SANE,CAbI,CAAjB,CAuBA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAAAC,CAAC,CAAI,CACtB,GAAMC,OAAM,CAAG,GAAIC,WAAJ,EAAf,CACA,GAAMC,KAAI,CAAGH,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb,CAEAJ,MAAM,CAACK,MAAP,CAAgB,iBAAMzB,YAAW,gCAAMD,QAAN,MAAgB2B,KAAK,CAAEN,MAAM,CAACO,MAA9B,GAAjB,EAAhB,CACAP,MAAM,CAACQ,aAAP,CAAqBN,IAArB,EACD,CAND,CAQA,GAAMO,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB1B,QAAQ,CAAC,GAAD,CAAR,CACAV,QAAQ,CAACqC,aAAT,CAAuB7B,MAAvB,CAA+BF,QAA/B,CAAyCG,QAAzC,EACD,CAHD,CAKA,mBACE,YAAK,SAAS,CAAEJ,QAAQ,CAAG,kBAAH,CAAwB,SAAhD,uBACE,YAAK,SAAS,CAAC,oBAAf,uBACE,cAAM,SAAS,CAAC,eAAhB,wBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,sBAAf,CAAsC,GAAG,CAAEC,QAAQ,CAAC2B,KAApD,CAA2D,GAAG,CAAC,QAA/D,EADF,cAEE,KAAC,KAAD,EACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,QAFL,CAGE,KAAK,CAAEtB,QAAQ,CAACC,WAHlB,CAIE,QAAQ,CAAEa,UAJZ,EAFF,cAQE,cAAO,OAAO,CAAC,QAAf,CAAwB,SAAS,CAAC,eAAlC,4BARF,GADF,cAcE,aAAK,SAAS,CAAC,0BAAf,wBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,cAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,gBAApC,2BADF,cAIE,KAAC,KAAD,EACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,UAFL,CAGE,KAAK,CAAEd,QAAQ,CAACK,KAHlB,CAIE,KAAK,CAAEV,QAAQ,CAACgC,IAJlB,CAKE,QAAQ,CAAE,kBAAAZ,CAAC,QAAInB,YAAW,gCAAMD,QAAN,MAAgBgC,IAAI,CAAEZ,CAAC,CAACI,MAAF,CAASS,KAA/B,GAAf,EALb,EAJF,GADF,cAaE,aAAK,SAAS,CAAC,gBAAf,wBACE,cAAO,OAAO,CAAC,OAAf,CAAuB,SAAS,CAAC,gBAAjC,wBADF,cAIE,KAAC,KAAD,EACE,IAAI,CAAC,OADP,CAEE,EAAE,CAAC,OAFL,CAGE,KAAK,CAAE5B,QAAQ,CAACK,KAHlB,CAIE,KAAK,CAAEV,QAAQ,CAACkC,KAJlB,CAKE,QAAQ,CAAE,kBAAAd,CAAC,QAAInB,YAAW,gCAAMD,QAAN,MAAgBkC,KAAK,CAAEd,CAAC,CAACI,MAAF,CAASS,KAAhC,GAAf,EALb,CAME,QAAQ,KANV,EAJF,GAbF,cA0BE,KAAC,OAAD,EAAS,IAAI,CAAC,QAAd,CAAuB,MAAM,CAAE5B,QAAQ,CAACS,SAAxC,CAAmD,OAAO,CAAEgB,YAA5D,0BA1BF,GAdF,GADF,EADF,EADF,CAmDD,CA3FD,CA6FA,cAAehC,QAAf"},"metadata":{},"sourceType":"module"}