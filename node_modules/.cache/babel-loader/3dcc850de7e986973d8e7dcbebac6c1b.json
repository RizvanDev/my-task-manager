{"ast":null,"code":"import _toConsumableArray from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useContext}from'react';import{Context}from'../../../../../context';import{database}from'../../../../../firebase/firebaseConfig';import InputContainer from'./InputContainer';import useValue from'../../../../../hooks/useValue';import'./addItem.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddItem=function AddItem(){var _useValue=useValue({invisible:false,visible:false}),_useValue2=_slicedToArray(_useValue,2),inputContainer=_useValue2[0],setInputContainer=_useValue2[1];var _useValue3=useValue(''),_useValue4=_slicedToArray(_useValue3,3),inputValue=_useValue4[0],setInputValue=_useValue4[1],onChange=_useValue4[2];var inputRef=useRef(null);var _useContext=useContext(Context),tabItems=_useContext.tabItems,setTabItem=_useContext.setTabItem,setCategory=_useContext.setCategory,setTab=_useContext.setTab,userInfo=_useContext.userInfo,calendarDate=_useContext.calendarDate,openSideMenu=_useContext.openSideMenu;var showInputContainer=function showInputContainer(invisible,visible){inputValue&&setInputValue('');setTimeout(function(){return inputRef.current.focus();},500);return setInputContainer({invisible:invisible,visible:visible});};var desiredElement=tabItems.tasks.find(function(tab){return tab.title===inputValue;});var addNewCategory=function addNewCategory(){if(inputValue&&!desiredElement){setInputValue('');setTabItem(_objectSpread(_objectSpread({},tabItems),{},{tasks:[].concat(_toConsumableArray(tabItems.tasks),[{title:inputValue,sortingType:'newest first',data:[]}])}));setInputContainer({invisible:false,visible:false});setCategory(inputValue);setTab(inputValue);openSideMenu(false);database.writeUserTasksData(userInfo.uid,calendarDate.toLocaleDateString().split('.').join(''),_objectSpread(_objectSpread({},tabItems),{},{tasks:[].concat(_toConsumableArray(tabItems.tasks),[{title:inputValue,sortingType:'newest first',data:[]}])}));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(InputContainer,{addNewCategory:addNewCategory,showInputContainer:showInputContainer,inputValue:inputValue,setInputValue:onChange,inputContainer:inputContainer,ref:inputRef}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:inputContainer.invisible||inputContainer.visible?'addItem__btn invisible':'addItem__btn',onClick:function onClick(){return showInputContainer(true,true);},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",fill:\"none\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M14.25 2.25H3.75C2.92157 2.25 2.25 2.92157 2.25 3.75V14.25C2.25 15.0784 2.92157 15.75 3.75 15.75H14.25C15.0784 15.75 15.75 15.0784 15.75 14.25V3.75C15.75 2.92157 15.0784 2.25 14.25 2.25Z\",stroke:\"#29A19C\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9 6V12\",stroke:\"#29A19C\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M6 9H12\",stroke:\"#29A19C\",strokeWidth:\"1.5\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"new category\"})]})]});};export default AddItem;","map":{"version":3,"names":["useRef","useContext","Context","database","InputContainer","useValue","AddItem","invisible","visible","inputContainer","setInputContainer","inputValue","setInputValue","onChange","inputRef","tabItems","setTabItem","setCategory","setTab","userInfo","calendarDate","openSideMenu","showInputContainer","setTimeout","current","focus","desiredElement","tasks","find","tab","title","addNewCategory","sortingType","data","writeUserTasksData","uid","toLocaleDateString","split","join"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/Components/Layout/AsideBar/CategoryList/AddItem/AddItem.jsx"],"sourcesContent":["import { useRef, useContext } from 'react'\r\nimport { Context } from '../../../../../context'\r\nimport { database } from '../../../../../firebase/firebaseConfig'\r\nimport InputContainer from './InputContainer'\r\nimport useValue from '../../../../../hooks/useValue'\r\nimport './addItem.scss'\r\n\r\nconst AddItem = () => {\r\n  const [inputContainer, setInputContainer] = useValue({\r\n    invisible: false,\r\n    visible: false,\r\n  })\r\n  const [inputValue, setInputValue, onChange] = useValue('')\r\n  const inputRef = useRef(null)\r\n  const {\r\n    tabItems,\r\n    setTabItem,\r\n    setCategory,\r\n    setTab,\r\n    userInfo,\r\n    calendarDate,\r\n    openSideMenu,\r\n  } = useContext(Context)\r\n\r\n  const showInputContainer = (invisible, visible) => {\r\n    inputValue && setInputValue('')\r\n    setTimeout(() => inputRef.current.focus(), 500)\r\n    return setInputContainer({ invisible, visible })\r\n  }\r\n\r\n  const desiredElement = tabItems.tasks.find(tab => tab.title === inputValue)\r\n\r\n  const addNewCategory = () => {\r\n    if (inputValue && !desiredElement) {\r\n      setInputValue('')\r\n\r\n      setTabItem({\r\n        ...tabItems,\r\n        tasks: [\r\n          ...tabItems.tasks,\r\n          { title: inputValue, sortingType: 'newest first', data: [] },\r\n        ],\r\n      })\r\n\r\n      setInputContainer({ invisible: false, visible: false })\r\n      setCategory(inputValue)\r\n      setTab(inputValue)\r\n      openSideMenu(false)\r\n\r\n      database.writeUserTasksData(\r\n        userInfo.uid,\r\n        calendarDate.toLocaleDateString().split('.').join(''),\r\n        {\r\n          ...tabItems,\r\n          tasks: [\r\n            ...tabItems.tasks,\r\n            { title: inputValue, sortingType: 'newest first', data: [] },\r\n          ],\r\n        },\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <InputContainer\r\n        addNewCategory={addNewCategory}\r\n        showInputContainer={showInputContainer}\r\n        inputValue={inputValue}\r\n        setInputValue={onChange}\r\n        inputContainer={inputContainer}\r\n        ref={inputRef}\r\n      />\r\n      <button\r\n        type='button'\r\n        className={\r\n          inputContainer.invisible || inputContainer.visible\r\n            ? 'addItem__btn invisible'\r\n            : 'addItem__btn'\r\n        }\r\n        onClick={() => showInputContainer(true, true)}>\r\n        <svg width='18' height='18' fill='none'>\r\n          <path\r\n            d='M14.25 2.25H3.75C2.92157 2.25 2.25 2.92157 2.25 3.75V14.25C2.25 15.0784 2.92157 15.75 3.75 15.75H14.25C15.0784 15.75 15.75 15.0784 15.75 14.25V3.75C15.75 2.92157 15.0784 2.25 14.25 2.25Z'\r\n            stroke='#29A19C'\r\n            strokeWidth='1.5'\r\n            strokeLinecap='round'\r\n            strokeLinejoin='round'\r\n          />\r\n          <path\r\n            d='M9 6V12'\r\n            stroke='#29A19C'\r\n            strokeWidth='1.5'\r\n            strokeLinecap='round'\r\n            strokeLinejoin='round'\r\n          />\r\n          <path\r\n            d='M6 9H12'\r\n            stroke='#29A19C'\r\n            strokeWidth='1.5'\r\n            strokeLinecap='round'\r\n            strokeLinejoin='round'\r\n          />\r\n        </svg>\r\n        <span>new category</span>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddItem\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}