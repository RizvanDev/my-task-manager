{"ast":null,"code":"import _objectSpread from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import useValue from'../hooks/useValue';import useLocaleStorage from'../hooks/useLocaleStorage';import{useEffect}from'react';import{Context}from'../context';import{jsx as _jsx}from\"react/jsx-runtime\";var defaultItems=[{title:'Home',sortingType:'newest first',data:[]},{title:'Work',sortingType:'newest first',data:[]},{title:'Sport',sortingType:'newest first',data:[]}];var withApp=function withApp(Component){return function(){var _useLocaleStorage=useLocaleStorage('darkMode',false),_useLocaleStorage2=_slicedToArray(_useLocaleStorage,2),darkMode=_useLocaleStorage2[0],setDarkMode=_useLocaleStorage2[1],_useValue=useValue(false),_useValue2=_slicedToArray(_useValue,2),taskModal=_useValue2[0],setTaskModal=_useValue2[1],_useLocaleStorage3=useLocaleStorage('data',defaultItems),_useLocaleStorage4=_slicedToArray(_useLocaleStorage3,2),tabsStorage=_useLocaleStorage4[0],setDataInStorage=_useLocaleStorage4[1],_useValue3=useValue(tabsStorage.length?tabsStorage:defaultItems),_useValue4=_slicedToArray(_useValue3,2),tabItems=_useValue4[0],setTabItem=_useValue4[1],_useValue5=useValue(tabItems[0].title),_useValue6=_slicedToArray(_useValue5,2),tab=_useValue6[0],setTab=_useValue6[1],_useValue7=useValue(defaultItems[0].title),_useValue8=_slicedToArray(_useValue7,3),category=_useValue8[0],setCategory=_useValue8[1],categorySelectOnChange=_useValue8[2];useEffect(function(){setDataInStorage(tabItems);},[tabItems]);var setSortType=function setSortType(value){tabItems.forEach(function(category){if(category.title===tab){category.sortingType=value;category.data.sort(function(a,b){var first=a.date.time.split(':').join('')+a.date.dmy.split('.').join('');var second=b.date.time.split(':').join('')+b.date.dmy.split('.').join('');return category.sortingType==='newest first'?second-first:first-second;});}});return setTabItem(_toConsumableArray(tabItems));};var taskMethods={createTask:function createTask(inputValue,setInputValue){setInputValue('');setTaskModal(false);setTab(category);tabItems.forEach(function(tab){if(tab.title===category){tab.data=[{task:inputValue,date:{time:new Date().toLocaleTimeString(),dmy:new Date().toLocaleDateString()},completed:false}].concat(_toConsumableArray(tab.data));}});return setTabItem(_toConsumableArray(tabItems));},deleteTask:function deleteTask(title,currentTask){tabItems.forEach(function(tab){if(title===tab.title){tab.data=tab.data.filter(function(task){return task.date.time!==currentTask.date.time;});}});return setTabItem(_toConsumableArray(tabItems));},checkTask:function checkTask(title,currentTask,complete){tabItems.forEach(function(tab){if(title===tab.title){tab.data.forEach(function(task){if(currentTask.date.time===task.date.time)task.completed=!complete;});}});return setTabItem(_toConsumableArray(tabItems));},editTask:function editTask(event,title,currentTask,newValue){event.target.style.borderBottom=\"1px solid \".concat(event.target.value?'transparent':'red');event.target.readOnly=event.code==='Enter'&&event.target.value;tabItems.forEach(function(tab){if(title===tab.title){tab.data.forEach(function(task){if(currentTask.task===task.task)task.task=newValue;});}});return setTabItem(_toConsumableArray(tabItems));}};var value=_objectSpread({darkMode:darkMode,setDarkMode:setDarkMode,taskModal:taskModal,setTaskModal:setTaskModal,tab:tab,setTab:setTab,tabItems:tabItems,setTabItem:setTabItem,category:category,setCategory:setCategory,categorySelectOnChange:categorySelectOnChange,setSortType:setSortType},taskMethods);return/*#__PURE__*/_jsx(Context.Provider,{value:value,children:/*#__PURE__*/_jsx(Component,{darkMode:darkMode})});};};export{withApp};","map":{"version":3,"names":["useValue","useLocaleStorage","useEffect","Context","defaultItems","title","sortingType","data","withApp","Component","darkMode","setDarkMode","taskModal","setTaskModal","tabsStorage","setDataInStorage","length","tabItems","setTabItem","tab","setTab","category","setCategory","categorySelectOnChange","setSortType","value","forEach","sort","a","b","first","date","time","split","join","dmy","second","taskMethods","createTask","inputValue","setInputValue","task","Date","toLocaleTimeString","toLocaleDateString","completed","deleteTask","currentTask","filter","checkTask","complete","editTask","event","newValue","target","style","borderBottom","readOnly","code"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/hoc/withApp.jsx"],"sourcesContent":["import useValue from '../hooks/useValue'\r\nimport useLocaleStorage from '../hooks/useLocaleStorage'\r\nimport { useEffect } from 'react'\r\nimport { Context } from '../context'\r\n\r\nconst defaultItems = [\r\n  { title: 'Home', sortingType: 'newest first', data: [] },\r\n  { title: 'Work', sortingType: 'newest first', data: [] },\r\n  { title: 'Sport', sortingType: 'newest first', data: [] },\r\n]\r\n\r\nconst withApp = Component => {\r\n  return () => {\r\n    const [darkMode, setDarkMode] = useLocaleStorage('darkMode', false),\r\n      [taskModal, setTaskModal] = useValue(false),\r\n      [tabsStorage, setDataInStorage] = useLocaleStorage('data', defaultItems),\r\n      [tabItems, setTabItem] = useValue(tabsStorage.length ? tabsStorage : defaultItems),\r\n      [tab, setTab] = useValue(tabItems[0].title),\r\n      [category, setCategory, categorySelectOnChange] = useValue(defaultItems[0].title)\r\n\r\n    useEffect(() => {\r\n      setDataInStorage(tabItems)\r\n    }, [tabItems])\r\n\r\n    const setSortType = value => {\r\n      tabItems.forEach(category => {\r\n        if (category.title === tab) {\r\n          category.sortingType = value\r\n\r\n          category.data.sort((a, b) => {\r\n            const first = a.date.time.split(':').join('') + a.date.dmy.split('.').join('')\r\n\r\n            const second =\r\n              b.date.time.split(':').join('') + b.date.dmy.split('.').join('')\r\n\r\n            return category.sortingType === 'newest first'\r\n              ? second - first\r\n              : first - second\r\n          })\r\n        }\r\n      })\r\n\r\n      return setTabItem([...tabItems])\r\n    }\r\n\r\n    const taskMethods = {\r\n      createTask: (inputValue, setInputValue) => {\r\n        setInputValue('')\r\n        setTaskModal(false)\r\n        setTab(category)\r\n\r\n        tabItems.forEach(tab => {\r\n          if (tab.title === category) {\r\n            tab.data = [\r\n              {\r\n                task: inputValue,\r\n                date: {\r\n                  time: new Date().toLocaleTimeString(),\r\n                  dmy: new Date().toLocaleDateString(),\r\n                },\r\n                completed: false,\r\n              },\r\n              ...tab.data,\r\n            ]\r\n          }\r\n        })\r\n\r\n        return setTabItem([...tabItems])\r\n      },\r\n\r\n      deleteTask: (title, currentTask) => {\r\n        tabItems.forEach(tab => {\r\n          if (title === tab.title) {\r\n            tab.data = tab.data.filter(task => task.date.time !== currentTask.date.time)\r\n          }\r\n        })\r\n\r\n        return setTabItem([...tabItems])\r\n      },\r\n\r\n      checkTask: (title, currentTask, complete) => {\r\n        tabItems.forEach(tab => {\r\n          if (title === tab.title) {\r\n            tab.data.forEach(task => {\r\n              if (currentTask.date.time === task.date.time) task.completed = !complete\r\n            })\r\n          }\r\n        })\r\n\r\n        return setTabItem([...tabItems])\r\n      },\r\n\r\n      editTask: (event, title, currentTask, newValue) => {\r\n        event.target.style.borderBottom = `1px solid ${\r\n          event.target.value ? 'transparent' : 'red'\r\n        }`\r\n        event.target.readOnly = event.code === 'Enter' && event.target.value\r\n\r\n        tabItems.forEach(tab => {\r\n          if (title === tab.title) {\r\n            tab.data.forEach(task => {\r\n              if (currentTask.task === task.task) task.task = newValue\r\n            })\r\n          }\r\n        })\r\n\r\n        return setTabItem([...tabItems])\r\n      },\r\n    }\r\n\r\n    const value = {\r\n      darkMode,\r\n      setDarkMode,\r\n      taskModal,\r\n      setTaskModal,\r\n      tab,\r\n      setTab,\r\n      tabItems,\r\n      setTabItem,\r\n      category,\r\n      setCategory,\r\n      categorySelectOnChange,\r\n      setSortType,\r\n      ...taskMethods,\r\n    }\r\n\r\n    return (\r\n      <Context.Provider value={value}>\r\n        <Component darkMode={darkMode} />\r\n      </Context.Provider>\r\n    )\r\n  }\r\n}\r\n\r\nexport { withApp }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}