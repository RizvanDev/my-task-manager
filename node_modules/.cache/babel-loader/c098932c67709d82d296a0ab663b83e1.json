{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _regeneratorRuntime from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{initializeApp}from'firebase/app';import{getDatabase,ref,set,get}from'firebase/database';import{getAuth,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut}from'firebase/auth';var firebaseConfig=_defineProperty({apiKey:process.env.REACT_APP_FIREBASE_API_KEY,authDomain:process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:process.env.REACT_APP_FIREBASE_DATABASE_URL,projectId:process.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.REACT_APP_FIREBASE_APP_ID},\"databaseURL\",process.env.REACT_APP_FIREBASE_DATABASE_URL);var app=initializeApp(firebaseConfig);var auth=getAuth(app);var db=getDatabase(app);/* \r\n This is an auxiliary function that adds an empty array to the object for rendering,\r\n since empty arrays cannot be stored in the database.\r\n*/var addEmptyArrays=function addEmptyArrays(data){return data.map(function(obj){return obj.hasOwnProperty('data')?obj:_objectSpread(_objectSpread({},obj),{},{data:[]});});};// Helper function for writing data in the database\nvar writeToDataBase=function writeToDataBase(path,data){return set(ref(db,path),data);};// Helper function for reading data from the database\nvar readFromDatabase=function readFromDatabase(path){return get(ref(db,path));};// database\nvar database={// send user information (email,avatar,nickname,id)\nwriteUserInfoData:function(){var _writeUserInfoData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userInfo){var path,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:path=\"users/\".concat(userInfo.uid,\"/user_info\");data={uid:userInfo.uid,username:userInfo.nick,email:userInfo.email,avatar:userInfo.photo};_context.t0=userInfo.uid;if(!_context.t0){_context.next=7;break;}_context.next=6;return writeToDataBase(path,data);case 6:_context.t0=_context.sent;case 7:return _context.abrupt(\"return\",_context.t0);case 8:case\"end\":return _context.stop();}}},_callee);}));function writeUserInfoData(_x){return _writeUserInfoData.apply(this,arguments);}return writeUserInfoData;}(),// send user tasks Data\nwriteUserTasksData:function(){var _writeUserTasksData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(userId,date,updatedTabItems){var path;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:path=\"users/\".concat(userId,\"/user_tasks/\").concat(date);_context2.t0=userId;if(!_context2.t0){_context2.next=6;break;}_context2.next=5;return writeToDataBase(path,_objectSpread({},updatedTabItems));case 5:_context2.t0=_context2.sent;case 6:return _context2.abrupt(\"return\",_context2.t0);case 7:case\"end\":return _context2.stop();}}},_callee2);}));function writeUserTasksData(_x2,_x3,_x4){return _writeUserTasksData.apply(this,arguments);}return writeUserTasksData;}(),// create/read new day\nwriteNewDayData:function(){var _writeNewDayData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(userId,date,setTabItems,setCategory,setTab){var path,snapshot,dataTabItems,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:path=\"users/\".concat(userId,\"/user_tasks/\").concat(date);_context3.next=3;return readFromDatabase(path);case 3:snapshot=_context3.sent;dataTabItems={date:new Date().toLocaleDateString().split('.').reverse().join(''),tabs:[]};if(snapshot.exists()){data=snapshot.val();setCategory(data[0].title);setTab(data[0].title);dataTabItems.tabs=addEmptyArrays(data);}return _context3.abrupt(\"return\",setTabItems(dataTabItems));case 7:case\"end\":return _context3.stop();}}},_callee3);}));function writeNewDayData(_x5,_x6,_x7,_x8,_x9){return _writeNewDayData.apply(this,arguments);}return writeNewDayData;}(),// create Data for new user\ncreateUserData:function(){var _createUserData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(userId,userInfo,tabItems){var day,path,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:day=new Date().toLocaleDateString().replaceAll('.','');path=\"users/\".concat(userId);data={user_info:{uid:userInfo.uid,username:userInfo.nick,email:userInfo.email,avatar:userInfo.photo},user_tasks:_defineProperty({},day,tabItems.tabs)};_context4.t0=userId;if(!_context4.t0){_context4.next=8;break;}_context4.next=7;return writeToDataBase(path,data);case 7:_context4.t0=_context4.sent;case 8:return _context4.abrupt(\"return\",_context4.t0);case 9:case\"end\":return _context4.stop();}}},_callee4);}));function createUserData(_x10,_x11,_x12){return _createUserData.apply(this,arguments);}return createUserData;}(),// reade user Data\nreadUserData:function(){var _readUserData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(userId,setUserInfo,tabItems,setTabItems,setTab,setCategory){var date,path,snapshot,data,condition,userData;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:date=new Date().toLocaleDateString().replaceAll('.','');path=\"users/\".concat(userId,\"/\");_context5.next=4;return readFromDatabase(path);case 4:snapshot=_context5.sent;if(snapshot.exists()){data=snapshot.val();condition=data.user_tasks&&data.user_tasks[date];userData={info:{photo:data.user_info.avatar,nick:data.user_info.username,email:data.user_info.email,uid:data.user_info.uid},tabs:_objectSpread(_objectSpread({},tabItems),{},{tabs:addEmptyArrays(condition?data.user_tasks[date]:[])})};setUserInfo(userData.info);setTabItems(userData.tabs);setCategory(condition?data.user_tasks[date][0].title:'');setTab(condition?data.user_tasks[date][0].title:'');}case 6:case\"end\":return _context5.stop();}}},_callee5);}));function readUserData(_x13,_x14,_x15,_x16,_x17,_x18){return _readUserData.apply(this,arguments);}return readUserData;}(),// reading the data of the selected day\nreadPastData:function(){var _readPastData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(params){var date,userInfo,setCalendarDate,setCategory,setTab,tabItems,setTabItems,modals,openModals,createAuthInfoModal,pastDate,path,snapshot,tasks;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:date=params.date,userInfo=params.userInfo,setCalendarDate=params.setCalendarDate,setCategory=params.setCategory,setTab=params.setTab,tabItems=params.tabItems,setTabItems=params.setTabItems,modals=params.modals,openModals=params.openModals,createAuthInfoModal=params.createAuthInfoModal;pastDate=date.toLocaleDateString().replaceAll('.','');path=\"users/\".concat(userInfo.uid,\"/user_tasks/\").concat(pastDate);_context6.next=5;return readFromDatabase(path);case 5:snapshot=_context6.sent;if(snapshot.exists()){tasks=snapshot.val();setCalendarDate(date);setCategory(tasks[0].title);setTab(tasks[0].title);setTabItems(_objectSpread(_objectSpread({},tabItems),{},{tabs:addEmptyArrays(tasks)}));openModals(_objectSpread(_objectSpread({},modals),{},{calendarModal:false}));}else{createAuthInfoModal({show:true,type:'Error',text:\"You don't have any tasks for this day\"});}case 7:case\"end\":return _context6.stop();}}},_callee6);}));function readPastData(_x19){return _readPastData.apply(this,arguments);}return readPastData;}(),// Statistics\ncreateStatistics:function(){var _createStatistics=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(userId,period,setStatistics,tabItems){var date,path,statistics,updateStatistics,selectPeriod,snapshot;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:date=new Date().toLocaleDateString().replaceAll('.','');path=\"users/\".concat(userId,\"/user_tasks/\");statistics={Categories:0,Created:0,Completed:0};updateStatistics=function updateStatistics(data){data.forEach(function(category){if(category.hasOwnProperty('data')){statistics.Created+=category.data.length;statistics.Completed+=category.data.filter(function(task){return task.completed;}).length;}});};selectPeriod=function selectPeriod(data){var periods={Month:function Month(){var currentMonth=date.substring(2,4);for(var day in data){if(day.substring(2,4)===currentMonth){statistics.Categories+=data[day].length;updateStatistics(data[day]);}}},Year:function Year(){var currentYear=date.substring(4);for(var day in data){if(day.substring(4)===currentYear){statistics.Categories+=data[day].length;updateStatistics(data[day]);}}}};return periods[period]();};if(!(period==='Day')){_context7.next=10;break;}statistics.Categories=tabItems.tabs.length;updateStatistics(tabItems.tabs);_context7.next=14;break;case 10:_context7.next=12;return readFromDatabase(path);case 12:snapshot=_context7.sent;snapshot.exists()&&selectPeriod(snapshot.val());case 14:return _context7.abrupt(\"return\",setStatistics(statistics));case 15:case\"end\":return _context7.stop();}}},_callee7);}));function createStatistics(_x20,_x21,_x22,_x23){return _createStatistics.apply(this,arguments);}return createStatistics;}(),// Chart\ngetWeeklyTaskCompletionData:function(){var _getWeeklyTaskCompletionData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(userId,setDataChart){var path,snapshot,data,updateWeakData,getWeekDataFromSnapshot;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:path=\"users/\".concat(userId,\"/user_tasks/\");_context8.next=3;return readFromDatabase(path);case 3:snapshot=_context8.sent;data=[{day:'Mon',created:0,completed:0},{day:'Tue',created:0,completed:0},{day:'Wed',created:0,completed:0},{day:'Thu',created:0,completed:0},{day:'Fri',created:0,completed:0},{day:'Sat',created:0,completed:0},{day:'Sun',created:0,completed:0}];updateWeakData=function updateWeakData(week){var updatedData=data.slice();var _loop=function _loop(){var day=_Object$keys[_i];var _iterator=_createForOfIteratorHelper(week[day]),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var tab=_step.value;if(tab.data){var _iterator2=_createForOfIteratorHelper(tab.data),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var task=_step2.value;var desiredObj=updatedData.findIndex(function(obj){return obj.day===day;});updatedData[desiredObj].created++;task.completed&&desiredObj!==-1&&updatedData[desiredObj].completed++;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}}}catch(err){_iterator.e(err);}finally{_iterator.f();}};for(var _i=0,_Object$keys=Object.keys(week);_i<_Object$keys.length;_i++){_loop();}return setDataChart(updatedData);};getWeekDataFromSnapshot=function getWeekDataFromSnapshot(data){var weekData={};var currentDate=new Date();var currentMonth=currentDate.toLocaleDateString().substring(3,5);var firstDayOfWeek=new Date(currentDate.setDate(currentDate.getDate()-currentDate.getDay()+1)).toLocaleDateString().replaceAll('.','');var lastDayOfWeek=new Date(currentDate.setDate(currentDate.getDate()-currentDate.getDay()+7)).toLocaleDateString().replaceAll('.','');for(var day in data){var monthCondition=day.substring(2,4)===currentMonth;var weekCondition=day>=firstDayOfWeek&&day<=lastDayOfWeek;if(monthCondition&&weekCondition){var _date=new Date(day.replace(/(\\d{2})(\\d{2})(\\d{4})/,'$2/$1/$3'));var dayOfWeekName=_date.toDateString().substring(0,3);weekData[dayOfWeekName]=data[day];}}return updateWeakData(weekData);};return _context8.abrupt(\"return\",snapshot.exists&&getWeekDataFromSnapshot(snapshot.val()));case 8:case\"end\":return _context8.stop();}}},_callee8);}));function getWeeklyTaskCompletionData(_x24,_x25){return _getWeeklyTaskCompletionData.apply(this,arguments);}return getWeeklyTaskCompletionData;}()};// Authentication methods\nvar authentication={// Login\nloginEmailPassword:function(){var _loginEmailPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(params){var login,setLogin,createAuthInfoModal,userInfo,setUserInfo,tabItems,setTabItems,setTab,setCategory,modals,openModals,userCredential;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:login=params.login,setLogin=params.setLogin,createAuthInfoModal=params.createAuthInfoModal,userInfo=params.userInfo,setUserInfo=params.setUserInfo,tabItems=params.tabItems,setTabItems=params.setTabItems,setTab=params.setTab,setCategory=params.setCategory,modals=params.modals,openModals=params.openModals;if(!login.Password){_context9.next=12;break;}_context9.prev=2;_context9.next=5;return signInWithEmailAndPassword(auth,login.Email,login.Password);case 5:userCredential=_context9.sent;if(userCredential){setLogin({Email:'',Password:''});createAuthInfoModal({show:true,type:'Success',text:'Authorization successfully'});setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{uid:userCredential.user.uid}));database.readUserData(userCredential.user.uid,setUserInfo,tabItems,setTabItems,setTab,setCategory);setTimeout(function(){return openModals(_objectSpread(_objectSpread({},modals),{},{authModal:false}));},1500);}_context9.next=12;break;case 9:_context9.prev=9;_context9.t0=_context9[\"catch\"](2);createAuthInfoModal({show:true,type:'Error',text:_context9.t0.code.substring(5).replaceAll('-',' ')});case 12:case\"end\":return _context9.stop();}}},_callee9,null,[[2,9]]);}));function loginEmailPassword(_x26){return _loginEmailPassword.apply(this,arguments);}return loginEmailPassword;}(),// Registration\nregistrationEmailPassword:function(){var _registrationEmailPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(params){var registration,setRegistration,navigate,createAuthInfoModal,userInfo,setUserInfo,tabItems,modals,openModals,userCredential;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:registration=params.registration,setRegistration=params.setRegistration,navigate=params.navigate,createAuthInfoModal=params.createAuthInfoModal,userInfo=params.userInfo,setUserInfo=params.setUserInfo,tabItems=params.tabItems,modals=params.modals,openModals=params.openModals;if(!registration.Password){_context10.next=12;break;}_context10.prev=2;_context10.next=5;return createUserWithEmailAndPassword(auth,registration.Email,registration.Password);case 5:userCredential=_context10.sent;if(userCredential){setRegistration({Email:'',Password:''});createAuthInfoModal({show:true,type:'Success',text:'Registration successfully'});setUserInfo(_objectSpread(_objectSpread({},userInfo),{},{email:userCredential.user.email,uid:userCredential.user.uid}));database.createUserData(userCredential.user.uid,userInfo,tabItems);setTimeout(function(){openModals(_objectSpread(_objectSpread({},modals),{},{authModal:false}));navigate('Profile.jsx');},1000);}_context10.next=12;break;case 9:_context10.prev=9;_context10.t0=_context10[\"catch\"](2);createAuthInfoModal({show:true,type:'Error',text:_context10.t0.code.substring(5).replaceAll('-',' ')});case 12:case\"end\":return _context10.stop();}}},_callee10,null,[[2,9]]);}));function registrationEmailPassword(_x27){return _registrationEmailPassword.apply(this,arguments);}return registrationEmailPassword;}(),// Logout\nlogOut:function(){var _logOut=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee11(params){var defaultPhoto,defaultChartData,setCalendarDate,setTimeLine,setUserInfo,setDataChart,tabItems,setTabItems,userData;return _regeneratorRuntime().wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:defaultPhoto=params.defaultPhoto,defaultChartData=params.defaultChartData,setCalendarDate=params.setCalendarDate,setTimeLine=params.setTimeLine,setUserInfo=params.setUserInfo,setDataChart=params.setDataChart,tabItems=params.tabItems,setTabItems=params.setTabItems;userData={info:{photo:defaultPhoto,nick:'username',email:'',uid:''},tabs:_objectSpread(_objectSpread({},tabItems),{},{tabs:[]})};setCalendarDate(new Date());setTimeLine({past:false,future:false});setUserInfo(userData.info);setDataChart(defaultChartData);setTabItems(userData.tabs);_context11.next=9;return signOut(auth);case 9:return _context11.abrupt(\"return\",_context11.sent);case 10:case\"end\":return _context11.stop();}}},_callee11);}));function logOut(_x28){return _logOut.apply(this,arguments);}return logOut;}()};export{authentication,database};","map":{"version":3,"names":["initializeApp","getDatabase","ref","set","get","getAuth","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","databaseURL","REACT_APP_FIREBASE_DATABASE_URL","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","app","auth","db","addEmptyArrays","data","map","obj","hasOwnProperty","writeToDataBase","path","readFromDatabase","database","writeUserInfoData","userInfo","uid","username","nick","email","avatar","photo","writeUserTasksData","userId","date","updatedTabItems","writeNewDayData","setTabItems","setCategory","setTab","snapshot","dataTabItems","Date","toLocaleDateString","split","reverse","join","tabs","exists","val","title","createUserData","tabItems","day","replaceAll","user_info","user_tasks","readUserData","setUserInfo","condition","userData","info","readPastData","params","setCalendarDate","modals","openModals","createAuthInfoModal","pastDate","tasks","calendarModal","show","type","text","createStatistics","period","setStatistics","statistics","Categories","Created","Completed","updateStatistics","forEach","category","length","filter","task","completed","selectPeriod","periods","Month","currentMonth","substring","Year","currentYear","getWeeklyTaskCompletionData","setDataChart","created","updateWeakData","week","updatedData","slice","tab","desiredObj","findIndex","Object","keys","getWeekDataFromSnapshot","weekData","currentDate","firstDayOfWeek","setDate","getDate","getDay","lastDayOfWeek","monthCondition","weekCondition","replace","dayOfWeekName","toDateString","authentication","loginEmailPassword","login","setLogin","Password","Email","userCredential","user","setTimeout","authModal","code","registrationEmailPassword","registration","setRegistration","navigate","logOut","defaultPhoto","defaultChartData","setTimeLine","past","future"],"sources":["C:/Users/DarkFlyingCat/Desktop/dev/my-task-manager/src/firebase/firebaseConfig.js"],"sourcesContent":["import { initializeApp } from 'firebase/app'\r\nimport { getDatabase, ref, set, get } from 'firebase/database'\r\nimport {\r\n  getAuth,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  signOut,\r\n} from 'firebase/auth'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n}\r\n\r\nconst app = initializeApp(firebaseConfig)\r\nconst auth = getAuth(app)\r\nconst db = getDatabase(app)\r\n\r\n/* \r\n This is an auxiliary function that adds an empty array to the object for rendering,\r\n since empty arrays cannot be stored in the database.\r\n*/\r\nconst addEmptyArrays = data => {\r\n  return data.map(obj => (obj.hasOwnProperty('data') ? obj : { ...obj, data: [] }))\r\n}\r\n// Helper function for writing data in the database\r\nconst writeToDataBase = (path, data) => set(ref(db, path), data)\r\n// Helper function for reading data from the database\r\nconst readFromDatabase = path => get(ref(db, path))\r\n\r\n// database\r\nconst database = {\r\n  // send user information (email,avatar,nickname,id)\r\n  writeUserInfoData: async userInfo => {\r\n    const path = `users/${userInfo.uid}/user_info`\r\n\r\n    const data = {\r\n      uid: userInfo.uid,\r\n      username: userInfo.nick,\r\n      email: userInfo.email,\r\n      avatar: userInfo.photo,\r\n    }\r\n\r\n    return userInfo.uid && (await writeToDataBase(path, data))\r\n  },\r\n  // send user tasks Data\r\n  writeUserTasksData: async (userId, date, updatedTabItems) => {\r\n    const path = `users/${userId}/user_tasks/${date}`\r\n    return userId && (await writeToDataBase(path, { ...updatedTabItems }))\r\n  },\r\n  // create/read new day\r\n  writeNewDayData: async (userId, date, setTabItems, setCategory, setTab) => {\r\n    const path = `users/${userId}/user_tasks/${date}`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    const dataTabItems = {\r\n      date: new Date().toLocaleDateString().split('.').reverse().join(''),\r\n      tabs: [],\r\n    }\r\n\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.val()\r\n\r\n      setCategory(data[0].title)\r\n      setTab(data[0].title)\r\n      dataTabItems.tabs = addEmptyArrays(data)\r\n    }\r\n\r\n    return setTabItems(dataTabItems)\r\n  },\r\n  // create Data for new user\r\n  createUserData: async (userId, userInfo, tabItems) => {\r\n    const day = new Date().toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userId}`\r\n\r\n    const data = {\r\n      user_info: {\r\n        uid: userInfo.uid,\r\n        username: userInfo.nick,\r\n        email: userInfo.email,\r\n        avatar: userInfo.photo,\r\n      },\r\n      user_tasks: { [day]: tabItems.tabs },\r\n    }\r\n\r\n    return userId && (await writeToDataBase(path, data))\r\n  },\r\n  // reade user Data\r\n  readUserData: async (userId, setUserInfo, tabItems, setTabItems, setTab, setCategory) => {\r\n    const date = new Date().toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userId}/`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.val()\r\n\r\n      const condition = data.user_tasks && data.user_tasks[date]\r\n\r\n      const userData = {\r\n        info: {\r\n          photo: data.user_info.avatar,\r\n          nick: data.user_info.username,\r\n          email: data.user_info.email,\r\n          uid: data.user_info.uid,\r\n        },\r\n        tabs: {\r\n          ...tabItems,\r\n          tabs: addEmptyArrays(condition ? data.user_tasks[date] : []),\r\n        },\r\n      }\r\n\r\n      setUserInfo(userData.info)\r\n      setTabItems(userData.tabs)\r\n      setCategory(condition ? data.user_tasks[date][0].title : '')\r\n      setTab(condition ? data.user_tasks[date][0].title : '')\r\n    }\r\n  },\r\n  // reading the data of the selected day\r\n  readPastData: async params => {\r\n    const {\r\n      date,\r\n      userInfo,\r\n      setCalendarDate,\r\n      setCategory,\r\n      setTab,\r\n      tabItems,\r\n      setTabItems,\r\n      modals,\r\n      openModals,\r\n      createAuthInfoModal,\r\n    } = params\r\n\r\n    const pastDate = date.toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userInfo.uid}/user_tasks/${pastDate}`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    if (snapshot.exists()) {\r\n      const tasks = snapshot.val()\r\n\r\n      setCalendarDate(date)\r\n      setCategory(tasks[0].title)\r\n      setTab(tasks[0].title)\r\n      setTabItems({ ...tabItems, tabs: addEmptyArrays(tasks) })\r\n      openModals({ ...modals, calendarModal: false })\r\n    } else {\r\n      createAuthInfoModal({\r\n        show: true,\r\n        type: 'Error',\r\n        text: `You don't have any tasks for this day`,\r\n      })\r\n    }\r\n  },\r\n  // Statistics\r\n  createStatistics: async (userId, period, setStatistics, tabItems) => {\r\n    const date = new Date().toLocaleDateString().replaceAll('.', '')\r\n    const path = `users/${userId}/user_tasks/`\r\n\r\n    const statistics = { Categories: 0, Created: 0, Completed: 0 }\r\n\r\n    const updateStatistics = data => {\r\n      data.forEach(category => {\r\n        if (category.hasOwnProperty('data')) {\r\n          statistics.Created += category.data.length\r\n          statistics.Completed += category.data.filter(task => task.completed).length\r\n        }\r\n      })\r\n    }\r\n\r\n    const selectPeriod = data => {\r\n      const periods = {\r\n        Month: () => {\r\n          const currentMonth = date.substring(2, 4)\r\n\r\n          for (const day in data) {\r\n            if (day.substring(2, 4) === currentMonth) {\r\n              statistics.Categories += data[day].length\r\n              updateStatistics(data[day])\r\n            }\r\n          }\r\n        },\r\n        Year: () => {\r\n          const currentYear = date.substring(4)\r\n\r\n          for (const day in data) {\r\n            if (day.substring(4) === currentYear) {\r\n              statistics.Categories += data[day].length\r\n              updateStatistics(data[day])\r\n            }\r\n          }\r\n        },\r\n      }\r\n\r\n      return periods[period]()\r\n    }\r\n\r\n    if (period === 'Day') {\r\n      statistics.Categories = tabItems.tabs.length\r\n      updateStatistics(tabItems.tabs)\r\n    } else {\r\n      const snapshot = await readFromDatabase(path)\r\n      snapshot.exists() && selectPeriod(snapshot.val())\r\n    }\r\n\r\n    return setStatistics(statistics)\r\n  },\r\n  // Chart\r\n  getWeeklyTaskCompletionData: async (userId, setDataChart) => {\r\n    const path = `users/${userId}/user_tasks/`\r\n    const snapshot = await readFromDatabase(path)\r\n\r\n    const data = [\r\n      { day: 'Mon', created: 0, completed: 0 },\r\n      { day: 'Tue', created: 0, completed: 0 },\r\n      { day: 'Wed', created: 0, completed: 0 },\r\n      { day: 'Thu', created: 0, completed: 0 },\r\n      { day: 'Fri', created: 0, completed: 0 },\r\n      { day: 'Sat', created: 0, completed: 0 },\r\n      { day: 'Sun', created: 0, completed: 0 },\r\n    ]\r\n\r\n    const updateWeakData = week => {\r\n      const updatedData = data.slice()\r\n\r\n      for (const day of Object.keys(week)) {\r\n        for (const tab of week[day]) {\r\n          if (tab.data) {\r\n            for (const task of tab.data) {\r\n              const desiredObj = updatedData.findIndex(obj => obj.day === day)\r\n              updatedData[desiredObj].created++\r\n              task.completed && desiredObj !== -1 && updatedData[desiredObj].completed++\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return setDataChart(updatedData)\r\n    }\r\n\r\n    const getWeekDataFromSnapshot = data => {\r\n      const weekData = {}\r\n\r\n      const currentDate = new Date()\r\n      const currentMonth = currentDate.toLocaleDateString().substring(3, 5)\r\n\r\n      const firstDayOfWeek = new Date(\r\n        currentDate.setDate(currentDate.getDate() - currentDate.getDay() + 1),\r\n      )\r\n        .toLocaleDateString()\r\n        .replaceAll('.', '')\r\n\r\n      const lastDayOfWeek = new Date(\r\n        currentDate.setDate(currentDate.getDate() - currentDate.getDay() + 7),\r\n      )\r\n        .toLocaleDateString()\r\n        .replaceAll('.', '')\r\n\r\n      for (const day in data) {\r\n        const monthCondition = day.substring(2, 4) === currentMonth\r\n        const weekCondition = day >= firstDayOfWeek && day <= lastDayOfWeek\r\n\r\n        if (monthCondition && weekCondition) {\r\n          const date = new Date(day.replace(/(\\d{2})(\\d{2})(\\d{4})/, '$2/$1/$3'))\r\n          const dayOfWeekName = date.toDateString().substring(0, 3)\r\n\r\n          weekData[dayOfWeekName] = data[day]\r\n        }\r\n      }\r\n\r\n      return updateWeakData(weekData)\r\n    }\r\n\r\n    return snapshot.exists && getWeekDataFromSnapshot(snapshot.val())\r\n  },\r\n}\r\n\r\n// Authentication methods\r\nconst authentication = {\r\n  // Login\r\n  loginEmailPassword: async params => {\r\n    const {\r\n      login,\r\n      setLogin,\r\n      createAuthInfoModal,\r\n      userInfo,\r\n      setUserInfo,\r\n      tabItems,\r\n      setTabItems,\r\n      setTab,\r\n      setCategory,\r\n      modals,\r\n      openModals,\r\n    } = params\r\n\r\n    if (login.Password) {\r\n      try {\r\n        const userCredential = await signInWithEmailAndPassword(auth, login.Email, login.Password)\r\n\r\n        if (userCredential) {\r\n          setLogin({ Email: '', Password: '' })\r\n          createAuthInfoModal({\r\n            show: true,\r\n            type: 'Success',\r\n            text: 'Authorization successfully',\r\n          })\r\n\r\n          setUserInfo({\r\n            ...userInfo,\r\n            uid: userCredential.user.uid,\r\n          })\r\n\r\n          database.readUserData(\r\n            userCredential.user.uid,\r\n            setUserInfo,\r\n            tabItems,\r\n            setTabItems,\r\n            setTab,\r\n            setCategory,\r\n          )\r\n\r\n          setTimeout(() => openModals({ ...modals, authModal: false }), 1500)\r\n        }\r\n      } catch (Error) {\r\n        createAuthInfoModal({\r\n          show: true,\r\n          type: 'Error',\r\n          text: Error.code.substring(5).replaceAll('-', ' '),\r\n        })\r\n      }\r\n    }\r\n  },\r\n  // Registration\r\n  registrationEmailPassword: async params => {\r\n    const {\r\n      registration,\r\n      setRegistration,\r\n      navigate,\r\n      createAuthInfoModal,\r\n      userInfo,\r\n      setUserInfo,\r\n      tabItems,\r\n      modals,\r\n      openModals,\r\n    } = params\r\n\r\n    if (registration.Password) {\r\n      try {\r\n        const userCredential = await createUserWithEmailAndPassword(\r\n          auth,\r\n          registration.Email,\r\n          registration.Password,\r\n        )\r\n\r\n        if (userCredential) {\r\n          setRegistration({ Email: '', Password: '' })\r\n          createAuthInfoModal({\r\n            show: true,\r\n            type: 'Success',\r\n            text: 'Registration successfully',\r\n          })\r\n\r\n          setUserInfo({\r\n            ...userInfo,\r\n            email: userCredential.user.email,\r\n            uid: userCredential.user.uid,\r\n          })\r\n\r\n          database.createUserData(userCredential.user.uid, userInfo, tabItems)\r\n\r\n          setTimeout(() => {\r\n            openModals({ ...modals, authModal: false })\r\n            navigate('Profile.jsx')\r\n          }, 1000)\r\n        }\r\n      } catch (Error) {\r\n        createAuthInfoModal({\r\n          show: true,\r\n          type: 'Error',\r\n          text: Error.code.substring(5).replaceAll('-', ' '),\r\n        })\r\n      }\r\n    }\r\n  },\r\n  // Logout\r\n  logOut: async params => {\r\n    const {\r\n      defaultPhoto,\r\n      defaultChartData,\r\n      setCalendarDate,\r\n      setTimeLine,\r\n      setUserInfo,\r\n      setDataChart,\r\n      tabItems,\r\n      setTabItems,\r\n    } = params\r\n\r\n    const userData = {\r\n      info: {\r\n        photo: defaultPhoto,\r\n        nick: 'username',\r\n        email: '',\r\n        uid: '',\r\n      },\r\n      tabs: { ...tabItems, tabs: [] },\r\n    }\r\n\r\n    setCalendarDate(new Date())\r\n    setTimeLine({ past: false, future: false })\r\n    setUserInfo(userData.info)\r\n    setDataChart(defaultChartData)\r\n    setTabItems(userData.tabs)\r\n\r\n    return await signOut(auth)\r\n  },\r\n}\r\n\r\nexport { authentication, database }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}